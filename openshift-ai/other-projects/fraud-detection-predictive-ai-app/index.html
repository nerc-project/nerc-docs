<!DOCTYPE html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="NERC Documentation"><meta name=author content=NERC><link href=https://nerc-project.github.io/nerc-docs/openshift-ai/other-projects/fraud-detection-predictive-ai-app/ rel=canonical><link href=../predictive-and-generative-AI/ rel=prev><link href=../object-detection-app-using-yolo5/ rel=next><link rel=icon href=../../../assets/images/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.3"><title>New England Research Cloud(NERC)</title><link rel=stylesheet href=../../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><script src=../../../assets/javascripts/glightbox.min.js></script><style id=glightbox-style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#credit-card-fraud-detection-application class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <div class=parent> <div class=maintain> <div> Upcoming NERC system maintenance and upgrade </div> <div> (Tuesday, March 10, 2026 8:00 AM - 5:00 PM) <a style="color: #00efff" href=https://nerc.mghpcc.org/event/nerc-system-maintenance-20260310/ target=_blank>[Event Details]</a> </div> </div> <!-- <div class="upgrade">
    </div> --> <div class=child> <iframe src=https://nerc.instatus.com/embed-status/light-sm width=230 height=52 frameborder=0 scrolling=no style="border: none"></iframe> </div> </div> </div> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="NERC Documentation" class="md-header__button md-logo" aria-label="NERC Documentation" data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> NERC Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Credit Card Fraud Detection Application </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"></path></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/nerc-project/nerc-docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class=md-source__repository> nerc-project/nerc-docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="NERC Documentation" class="md-nav__button md-logo" aria-label="NERC Documentation" data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> NERC Documentation </label> <div class=md-nav__source> <a href=https://github.com/nerc-project/nerc-docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class=md-source__repository> nerc-project/nerc-docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../../get-started/ class="md-nav__link "> <span class=md-ellipsis> Getting Started </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Cost &amp; Billing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Cost &amp; Billing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../get-started/cost-billing/how-pricing-works/ class=md-nav__link> <span class=md-ellipsis> How does NERC pricing work? </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/pricing-for-bare-metal-machines/ class=md-nav__link> <span class=md-ellipsis> Pricing for Bare Metal Machines on NERC </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/nerc-pricing-calculator/ class=md-nav__link> <span class=md-ellipsis> NERC Pricing Calculator </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_4> <label class=md-nav__link for=__nav_3_2_4 id=__nav_3_2_4_label tabindex=0> <span class=md-ellipsis> Billing Process </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_4> <span class="md-nav__icon md-icon"></span> Billing Process </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../get-started/cost-billing/billing-process-for-my-institution/ class=md-nav__link> <span class=md-ellipsis> Billing Process for My Institution </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/billing-process-for-harvard/ class=md-nav__link> <span class=md-ellipsis> Billing Process for Harvard University </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/billing-process-for-bu/ class=md-nav__link> <span class=md-ellipsis> Billing Process for Boston University </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/billing-faqs/ class=md-nav__link> <span class=md-ellipsis> Billing FAQs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../get-started/user-onboarding-on-NERC/ class=md-nav__link> <span class=md-ellipsis> User Onboarding Process </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/create-a-user-portal-account/ class=md-nav__link> <span class=md-ellipsis> How to Create a User Account </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> How to Get An Allocation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> How to Get An Allocation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../get-started/allocation/coldfront/ class=md-nav__link> <span class=md-ellipsis> What is NERC's ColdFront? </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/adding-a-project/ class=md-nav__link> <span class=md-ellipsis> A New Project Creation Process </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/manage-users-to-a-project/ class=md-nav__link> <span class=md-ellipsis> Managing Users in the Project </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/requesting-an-allocation/ class=md-nav__link> <span class=md-ellipsis> How to request a new Resource Allocation </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/allocation-change-request/ class=md-nav__link> <span class=md-ellipsis> Request change to Resource Allocation to an existing project </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/adding-a-new-allocation/ class=md-nav__link> <span class=md-ellipsis> Adding a new Resource Allocation to the project </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/managing-users-to-an-allocation/ class=md-nav__link> <span class=md-ellipsis> Managing Users in the Project Resource Allocation </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/project-and-allocation-review/ class=md-nav__link> <span class=md-ellipsis> Project and Individual Allocation Annual Review Process </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/archiving-a-project/ class=md-nav__link> <span class=md-ellipsis> Archiving an Existing Project </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/allocation-details/ class=md-nav__link> <span class=md-ellipsis> Allocation details </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> Security Best Practices for the NERC Users </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Security Best Practices for the NERC Users </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../get-started/best-practices/best-practices/ class=md-nav__link> <span class=md-ellipsis> Quick Guide and Best Practices </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/best-practices/best-practices-for-my-institution/ class=md-nav__link> <span class=md-ellipsis> Best Practices for My Institution </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/best-practices/best-practices-for-harvard/ class=md-nav__link> <span class=md-ellipsis> Best Practices for Harvard University </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/best-practices/best-practices-for-bu/ class=md-nav__link> <span class=md-ellipsis> Best Practices for Boston University </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../../openstack/ class="md-nav__link "> <span class=md-ellipsis> OpenStack </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> OpenStack </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Logging In </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Logging In </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/logging-in/access-the-openstack-dashboard/ class=md-nav__link> <span class=md-ellipsis> Access the OpenStack Dashboard </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/logging-in/dashboard-overview/ class=md-nav__link> <span class=md-ellipsis> Dashboard Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Access and Security </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Access and Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/access-and-security/security-groups/ class=md-nav__link> <span class=md-ellipsis> Security Groups </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/access-and-security/create-a-key-pair/ class=md-nav__link> <span class=md-ellipsis> Create a Key Pair </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Create &amp; Connect to the VM </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Create &amp; Connect to the VM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/create-and-connect-to-the-VM/launch-a-VM/ class=md-nav__link> <span class=md-ellipsis> Launch a VM </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/create-and-connect-to-the-VM/create-a-Windows-VM/ class=md-nav__link> <span class=md-ellipsis> Create a Windows VM </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/create-and-connect-to-the-VM/images/ class=md-nav__link> <span class=md-ellipsis> Available Images </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/create-and-connect-to-the-VM/flavors/ class=md-nav__link> <span class=md-ellipsis> Available NOVA Flavors </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/create-and-connect-to-the-VM/assign-a-floating-IP/ class=md-nav__link> <span class=md-ellipsis> Assign a Floating IP </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_6> <div class="md-nav__link md-nav__container"> <a href=../../../openstack/create-and-connect-to-the-VM/bastion-host-based-ssh/ class="md-nav__link "> <span class=md-ellipsis> Connect to the VM </span> </a> <label class="md-nav__link " for=__nav_4_4_6 id=__nav_4_4_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_6> <span class="md-nav__icon md-icon"></span> Connect to the VM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/create-and-connect-to-the-VM/ssh-to-the-VM/ class=md-nav__link> <span class=md-ellipsis> SSH to the VM </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_6_3> <div class="md-nav__link md-nav__container"> <a href=../../../openstack/create-and-connect-to-the-VM/using-vpn/wireguard/ class="md-nav__link "> <span class=md-ellipsis> Using VPN </span> </a> <label class="md-nav__link " for=__nav_4_4_6_3 id=__nav_4_4_6_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_4_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_6_3> <span class="md-nav__icon md-icon"></span> Using VPN </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_6_3_1> <div class="md-nav__link md-nav__container"> <a href=../../../openstack/create-and-connect-to-the-VM/using-vpn/openvpn/ class="md-nav__link "> <span class=md-ellipsis> OpenVPN </span> </a> <label class="md-nav__link " for=__nav_4_4_6_3_1 id=__nav_4_4_6_3_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_4_4_6_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_6_3_1> <span class="md-nav__icon md-icon"></span> OpenVPN </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/create-and-connect-to-the-VM/using-vpn/openvpn/openvpn_gui_for_windows/ class=md-nav__link> <span class=md-ellipsis> OpenVPN GUI for Windows </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/create-and-connect-to-the-VM/using-vpn/openvpn/tunnelblick_for_macos/ class=md-nav__link> <span class=md-ellipsis> Tunnelblick for MacOS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../openstack/create-and-connect-to-the-VM/using-vpn/sshuttle/ class=md-nav__link> <span class=md-ellipsis> sshuttle </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> OpenStack CLI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> OpenStack CLI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/openstack-cli/openstack-CLI/ class=md-nav__link> <span class=md-ellipsis> OpenStack CLI </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/openstack-cli/launch-a-VM-using-openstack-CLI/ class=md-nav__link> <span class=md-ellipsis> Launch a VM using OpenStack CLI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> Persistent Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Persistent Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6_1> <label class=md-nav__link for=__nav_4_6_1 id=__nav_4_6_1_label tabindex=0> <span class=md-ellipsis> Block Storage/ Volumes/ Cinder </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6_1> <span class="md-nav__icon md-icon"></span> Block Storage/ Volumes/ Cinder </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/volumes/ class=md-nav__link> <span class=md-ellipsis> Block Storage/ Volumes/ Cinder </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/create-an-empty-volume/ class=md-nav__link> <span class=md-ellipsis> Create An Empty Volume </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/attach-the-volume-to-an-instance/ class=md-nav__link> <span class=md-ellipsis> Attach The Volume To An Instance </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/format-and-mount-the-volume/ class=md-nav__link> <span class=md-ellipsis> Format And Mount The Volume </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/detach-a-volume/ class=md-nav__link> <span class=md-ellipsis> Detach a Volume </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/delete-volumes/ class=md-nav__link> <span class=md-ellipsis> Delete Volumes </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/extending-volume/ class=md-nav__link> <span class=md-ellipsis> Extending Volume </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/transfer-a-volume/ class=md-nav__link> <span class=md-ellipsis> Transfer a Volume </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6_2> <label class=md-nav__link for=__nav_4_6_2 id=__nav_4_6_2_label tabindex=0> <span class=md-ellipsis> Object Storage/ Swift </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6_2> <span class="md-nav__icon md-icon"></span> Object Storage/ Swift </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/object-storage/ class=md-nav__link> <span class=md-ellipsis> Object Storage/ Swift </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/persistent-storage/mount-the-object-storage/ class=md-nav__link> <span class=md-ellipsis> Mount The Object Storage </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../openstack/data-transfer/data-transfer-from-to-vm/ class=md-nav__link> <span class=md-ellipsis> Data Transfer </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/backup/backup-with-snapshots/ class=md-nav__link> <span class=md-ellipsis> Backup your instance &amp; data </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/management/vm-management/ class=md-nav__link> <span class=md-ellipsis> VM Management </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/decommission/decommission-openstack-resources/ class=md-nav__link> <span class=md-ellipsis> Decommission your OpenStack Resources </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11> <label class=md-nav__link for=__nav_4_11 id=__nav_4_11_label tabindex=0> <span class=md-ellipsis> Advanced Topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_11_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11> <span class="md-nav__icon md-icon"></span> Advanced Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_1> <label class=md-nav__link for=__nav_4_11_1 id=__nav_4_11_1_label tabindex=0> <span class=md-ellipsis> Setting Up Own Network </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_1> <span class="md-nav__icon md-icon"></span> Setting Up Own Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/advanced-openstack-topics/setting-up-a-network/set-up-a-private-network/ class=md-nav__link> <span class=md-ellipsis> Set up a Private Network </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/advanced-openstack-topics/setting-up-a-network/create-a-router/ class=md-nav__link> <span class=md-ellipsis> Create a Router </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_2> <label class=md-nav__link for=__nav_4_11_2 id=__nav_4_11_2_label tabindex=0> <span class=md-ellipsis> Domain Name System </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_2> <span class="md-nav__icon md-icon"></span> Domain Name System </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/advanced-openstack-topics/domain-name-system/domain-names-for-your-vms/ class=md-nav__link> <span class=md-ellipsis> Set up Domain names for your VMs </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_3> <label class=md-nav__link for=__nav_4_11_3 id=__nav_4_11_3_label tabindex=0> <span class=md-ellipsis> Terraform </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_3> <span class="md-nav__icon md-icon"></span> Terraform </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openstack/advanced-openstack-topics/terraform/terraform-on-NERC/ class=md-nav__link> <span class=md-ellipsis> Terraform on NERC </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../openstack/advanced-openstack-topics/python-sdk/python-SDK/ class=md-nav__link> <span class=md-ellipsis> Python SDK </span> </a> </li> <li class=md-nav__item> <a href=../../../openstack/advanced-openstack-topics/setting-up-your-own-images/how-to-build-windows-image/ class=md-nav__link> <span class=md-ellipsis> Setting up custom images </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../../openshift/ class="md-nav__link "> <span class=md-ellipsis> OpenShift </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> OpenShift Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> OpenShift Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/get-started/openshift-overview/ class=md-nav__link> <span class=md-ellipsis> OpenShift Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> OpenShift Web Console </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> OpenShift Web Console </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/logging-in/access-the-openshift-web-console/ class=md-nav__link> <span class=md-ellipsis> Access the NERC's OpenShift Web Console </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/logging-in/web-console-overview/ class=md-nav__link> <span class=md-ellipsis> Web Console Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> OpenShift command-line interface (CLI) Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> OpenShift command-line interface (CLI) Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/logging-in/the-openshift-cli/ class=md-nav__link> <span class=md-ellipsis> OpenShift CLI Tools Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/logging-in/setup-the-openshift-cli/ class=md-nav__link> <span class=md-ellipsis> How to Setup the OpenShift CLI Tools </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> Creating Your First Application on OpenShift </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Creating Your First Application on OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/applications/creating-a-sample-application/ class=md-nav__link> <span class=md-ellipsis> Creating A Sample Application </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/applications/creating-your-own-developer-catalog-service/ class=md-nav__link> <span class=md-ellipsis> Creating Your Own Developer Catalog Service </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6 id=__nav_5_6_label tabindex=0> <span class=md-ellipsis> Editing Applications </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> Editing Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/applications/editing-applications/ class=md-nav__link> <span class=md-ellipsis> Editing your applications </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/applications/scaling-and-performance-guide/ class=md-nav__link> <span class=md-ellipsis> Scaling and Performance Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <label class=md-nav__link for=__nav_5_7 id=__nav_5_7_label tabindex=0> <span class=md-ellipsis> Serverless Computing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> Serverless Computing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/applications/understanding-openshift-serverless/ class=md-nav__link> <span class=md-ellipsis> Understanding OpenShift Serverless </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/applications/knative-serving/ class=md-nav__link> <span class=md-ellipsis> Knative Serving User Guide: Deploying and Managing Serverless Workloads </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../openshift/domain-name-system/domain-name-for-your-application/ class=md-nav__link> <span class=md-ellipsis> Set up Domain Name for Your Application </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9> <label class=md-nav__link for=__nav_5_9 id=__nav_5_9_label tabindex=0> <span class=md-ellipsis> GPUs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> GPUs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/gpus/intro-to-gpus-on-nerc-ocp/ class=md-nav__link> <span class=md-ellipsis> Introduction to GPUs on NERC OpenShift </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_10> <label class=md-nav__link for=__nav_5_10 id=__nav_5_10_label tabindex=0> <span class=md-ellipsis> Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/storage/storage-overview/ class=md-nav__link> <span class=md-ellipsis> Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/storage/minio/ class=md-nav__link> <span class=md-ellipsis> Minio </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/storage/Rclone/ class=md-nav__link> <span class=md-ellipsis> Rclone </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_11> <label class=md-nav__link for=__nav_5_11 id=__nav_5_11_label tabindex=0> <span class=md-ellipsis> Deleting Applications </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_11_label aria-expanded=false> <label class=md-nav__title for=__nav_5_11> <span class="md-nav__icon md-icon"></span> Deleting Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/applications/deleting-applications/ class=md-nav__link> <span class=md-ellipsis> Deleting your applications </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../openshift/decommission/decommission-openshift-resources/ class=md-nav__link> <span class=md-ellipsis> Decommission OpenShift Resources </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Red Hat OpenShift AI (RHOAI) </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Red Hat OpenShift AI (RHOAI) </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> NERC OpenShift AI Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> NERC OpenShift AI Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../get-started/rhoai-overview/ class=md-nav__link> <span class=md-ellipsis> NERC RHOAI Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> NERC OpenShift AI Dashboard </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> NERC OpenShift AI Dashboard </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../logging-in/access-the-rhoai-dashboard/ class=md-nav__link> <span class=md-ellipsis> Access the NERC's OpenShift AI dashboard </span> </a> </li> <li class=md-nav__item> <a href=../../logging-in/the-rhoai-dashboard-overview/ class=md-nav__link> <span class=md-ellipsis> The NERC's OpenShift AI dashboard Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> Using Data Science Project in the NERC RHOAI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Using Data Science Project in the NERC RHOAI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../data-science-project/using-projects-the-rhoai/ class=md-nav__link> <span class=md-ellipsis> Using Your Data Science Project (DSP) </span> </a> </li> <li class=md-nav__item> <a href=../../data-science-project/explore-the-jupyterlab-environment/ class=md-nav__link> <span class=md-ellipsis> Explore the JupyterLab Environment </span> </a> </li> <li class=md-nav__item> <a href=../../data-science-project/model-serving-in-the-rhoai/ class=md-nav__link> <span class=md-ellipsis> Model Serving in the NERC RHOAI </span> </a> </li> <li class=md-nav__item> <a href=../../data-science-project/testing-model-in-the-rhoai/ class=md-nav__link> <span class=md-ellipsis> Test the Model in the NERC RHOAI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5 checked> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> Other Example Projects </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=true> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Other Example Projects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../how-access-s3-data-then-download-and-analyze-it/ class=md-nav__link> <span class=md-ellipsis> How to access, download, and analyze data for S3 usage </span> </a> </li> <li class=md-nav__item> <a href=../configure-jupyter-notebook-use-gpus-aiml-modeling/ class=md-nav__link> <span class=md-ellipsis> Configure a Jupyter Notebook to use GPUs for AI/ML modeling </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5_3 checked> <label class=md-nav__link for=__nav_6_5_3 id=__nav_6_5_3_label tabindex=0> <span class=md-ellipsis> Predictive &amp; Generative AI on NERC </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_5_3_label aria-expanded=true> <label class=md-nav__title for=__nav_6_5_3> <span class="md-nav__icon md-icon"></span> Predictive &amp; Generative AI on NERC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../predictive-and-generative-AI/ class=md-nav__link> <span class=md-ellipsis> Predictive &amp; Generative AI (LLM &amp; RAG) in Action </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5_3_2 checked> <label class=md-nav__link for=__nav_6_5_3_2 id=__nav_6_5_3_2_label tabindex=0> <span class=md-ellipsis> Predictive AI tutorial </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_6_5_3_2_label aria-expanded=true> <label class=md-nav__title for=__nav_6_5_3_2> <span class="md-nav__icon md-icon"></span> Predictive AI tutorial </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Credit Card Fraud Detection Application </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Credit Card Fraud Detection Application </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#about-the-example-fraud-detection-model class=md-nav__link> <span class=md-ellipsis> About the example fraud detection model </span> </a> </li> <li class=md-nav__item> <a href=#navigating-to-the-openshift-ai-dashboard class=md-nav__link> <span class=md-ellipsis> Navigating to the OpenShift AI dashboard </span> </a> </li> <li class=md-nav__item> <a href=#setting-up-your-data-science-project-in-the-nerc-rhoai class=md-nav__link> <span class=md-ellipsis> Setting up your Data Science Project in the NERC RHOAI </span> </a> <nav class=md-nav aria-label="Setting up your Data Science Project in the NERC RHOAI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-storing-data-with-connections class=md-nav__link> <span class=md-ellipsis> 1. Storing data with connections </span> </a> <nav class=md-nav aria-label="1. Storing data with connections"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11-using-your-own-s3-compatible-storage-buckets class=md-nav__link> <span class=md-ellipsis> 1.1. Using your own S3-compatible storage buckets </span> </a> </li> <li class=md-nav__item> <a href=#12-using-a-script-to-set-up-local-s3-storage-minio class=md-nav__link> <span class=md-ellipsis> 1.2. Using a script to set up local S3 storage (MinIO) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-enabling-data-science-pipelines class=md-nav__link> <span class=md-ellipsis> 2. Enabling data science pipelines </span> </a> </li> <li class=md-nav__item> <a href=#3-creating-a-workbench-and-a-notebook class=md-nav__link> <span class=md-ellipsis> 3. Creating a workbench and a notebook </span> </a> <nav class=md-nav aria-label="3. Creating a workbench and a notebook"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-a-workbench-and-selecting-a-notebook-image class=md-nav__link> <span class=md-ellipsis> Creating a workbench and selecting a notebook image </span> </a> </li> <li class=md-nav__item> <a href=#importing-the-tutorial-files-into-the-jupyter-environment class=md-nav__link> <span class=md-ellipsis> Importing the tutorial files into the Jupyter environment </span> </a> </li> <li class=md-nav__item> <a href=#training-a-model class=md-nav__link> <span class=md-ellipsis> Training a model </span> </a> <nav class=md-nav aria-label="Training a model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#adding-mlflow-to-training-code class=md-nav__link> <span class=md-ellipsis> Adding MLflow to Training Code </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-preparing-a-model-for-deployment class=md-nav__link> <span class=md-ellipsis> 4. Preparing a model for deployment </span> </a> </li> <li class=md-nav__item> <a href=#5-deploying-and-testing-a-model class=md-nav__link> <span class=md-ellipsis> 5. Deploying and testing a model </span> </a> <nav class=md-nav aria-label="5. Deploying and testing a model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#deploying-a-model class=md-nav__link> <span class=md-ellipsis> Deploying a model </span> </a> <nav class=md-nav aria-label="Deploying a model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#deploying-a-model-on-a-single-model-server class=md-nav__link> <span class=md-ellipsis> Deploying a model on a single-model server </span> </a> </li> <li class=md-nav__item> <a href=#deploying-a-model-on-a-multi-model-server class=md-nav__link> <span class=md-ellipsis> Deploying a model on a multi-model server </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing-the-model-api class=md-nav__link> <span class=md-ellipsis> Testing the model API </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6-implementing-pipelines class=md-nav__link> <span class=md-ellipsis> 6. Implementing pipelines </span> </a> <nav class=md-nav aria-label="6. Implementing pipelines"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#automating-workflows-with-data-science-pipelines class=md-nav__link> <span class=md-ellipsis> Automating workflows with data science pipelines </span> </a> <nav class=md-nav aria-label="Automating workflows with data science pipelines"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-a-pipeline class=md-nav__link> <span class=md-ellipsis> Create a pipeline </span> </a> </li> <li class=md-nav__item> <a href=#add-nodes-to-your-pipeline class=md-nav__link> <span class=md-ellipsis> Add nodes to your pipeline </span> </a> </li> <li class=md-nav__item> <a href=#specify-the-training-file-as-a-dependency class=md-nav__link> <span class=md-ellipsis> Specify the training file as a dependency </span> </a> </li> <li class=md-nav__item> <a href=#create-and-store-the-onnx-formatted-output-file class=md-nav__link> <span class=md-ellipsis> Create and store the ONNX-formatted output file </span> </a> </li> <li class=md-nav__item> <a href=#configure-the-connection-to-the-s3-storage-bucket class=md-nav__link> <span class=md-ellipsis> Configure the connection to the S3 storage bucket </span> </a> </li> <li class=md-nav__item> <a href=#run-the-pipeline class=md-nav__link> <span class=md-ellipsis> Run the Pipeline </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-a-data-science-pipeline-generated-from-python-code class=md-nav__link> <span class=md-ellipsis> Running a data science pipeline generated from Python code </span> </a> </li> <li class=md-nav__item> <a href=#schedule-execution class=md-nav__link> <span class=md-ellipsis> Schedule execution </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#deploy-the-model-application-on-nerc-openshift class=md-nav__link> <span class=md-ellipsis> Deploy the Model Application on NERC OpenShift </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../object-detection-app-using-yolo5/ class=md-nav__link> <span class=md-ellipsis> Object Detection Application Using YOLOv5 Model </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5_3_3> <label class=md-nav__link for=__nav_6_5_3_3 id=__nav_6_5_3_3_label tabindex=0> <span class=md-ellipsis> Generative AI tutorial </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_6_5_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5_3_3> <span class="md-nav__icon md-icon"></span> Generative AI tutorial </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../LLM-chat/ class=md-nav__link> <span class=md-ellipsis> Large Language Model (LLM) - Chat </span> </a> </li> <li class=md-nav__item> <a href=../RAG-talk-with-your-pdf/ class=md-nav__link> <span class=md-ellipsis> Retrieval Augumented Generation (RAG) - Talk with your PDF </span> </a> </li> <li class=md-nav__item> <a href=../deploying-a-llama-model-with-kserve/ class=md-nav__link> <span class=md-ellipsis> Deploying a Llama model with KServe </span> </a> </li> <li class=md-nav__item> <a href=../serving-tgis-and-FLAN-T5-Model/ class=md-nav__link> <span class=md-ellipsis> Serving Text Generation Inference Service (TGIS) and FLAN-T5 Small Model </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../LLM-client-AnythingLLM/ class=md-nav__link> <span class=md-ellipsis> LLM Client - AnythingLLM </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../../../other-tools/ class="md-nav__link "> <span class=md-ellipsis> Other Tools On NERC </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Other Tools On NERC </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kubernetes/ class=md-nav__link> <span class=md-ellipsis> Kubernetes Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/comparisons/ class=md-nav__link> <span class=md-ellipsis> K8s Flavors Comparision </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_3> <label class=md-nav__link for=__nav_7_2_3 id=__nav_7_2_3_label tabindex=0> <span class=md-ellipsis> Development environment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_3> <span class="md-nav__icon md-icon"></span> Development environment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/minikube/ class=md-nav__link> <span class=md-ellipsis> Minikube </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kind/ class=md-nav__link> <span class=md-ellipsis> Kind </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/microk8s/ class=md-nav__link> <span class=md-ellipsis> MicroK8s </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_3_4> <label class=md-nav__link for=__nav_7_2_3_4 id=__nav_7_2_3_4_label tabindex=0> <span class=md-ellipsis> K3s </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_7_2_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_3_4> <span class="md-nav__icon md-icon"></span> K3s </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s/ class=md-nav__link> <span class=md-ellipsis> K3s </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s-ha-cluster/ class=md-nav__link> <span class=md-ellipsis> K3s with High Availibility(HA) setup </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s-using-k3sup/ class=md-nav__link> <span class=md-ellipsis> Multi-master HA K3s cluster using k3sup </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s-using-k3d/ class=md-nav__link> <span class=md-ellipsis> Single-Node K3s Cluster using k3d </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s-ha-cluster-using-k3d/ class=md-nav__link> <span class=md-ellipsis> Multi-master K3s cluster setup using k3d </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k0s/ class=md-nav__link> <span class=md-ellipsis> k0s </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_4> <label class=md-nav__link for=__nav_7_2_4 id=__nav_7_2_4_label tabindex=0> <span class=md-ellipsis> Production environment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_4> <span class="md-nav__icon md-icon"></span> Production environment </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_4_1> <label class=md-nav__link for=__nav_7_2_4_1 id=__nav_7_2_4_1_label tabindex=0> <span class=md-ellipsis> Kubeadm </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_7_2_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_4_1> <span class="md-nav__icon md-icon"></span> Kubeadm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kubeadm/single-master-clusters-with-kubeadm/ class=md-nav__link> <span class=md-ellipsis> Bootstrapping cluster with kubeadm </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kubeadm/HA-clusters-with-kubeadm/ class=md-nav__link> <span class=md-ellipsis> Creating a HA cluster with kubeadm </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kubespray/ class=md-nav__link> <span class=md-ellipsis> Kubespray </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> <span class=md-ellipsis> CI/CD Pipeline </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> CI/CD Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/CI-CD/CI-CD-pipeline/ class=md-nav__link> <span class=md-ellipsis> CI/CD Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3_2> <label class=md-nav__link for=__nav_7_3_2 id=__nav_7_3_2_label tabindex=0> <span class=md-ellipsis> Using Jenkins </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3_2> <span class="md-nav__icon md-icon"></span> Using Jenkins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/CI-CD/jenkins/setup-jenkins-CI-CD-pipeline/ class=md-nav__link> <span class=md-ellipsis> Setup Jenkins CI/CD Pipeline </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/CI-CD/jenkins/integrate-your-GitHub-repository/ class=md-nav__link> <span class=md-ellipsis> GitHub to Jenkins Pipeline </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3_3> <label class=md-nav__link for=__nav_7_3_3 id=__nav_7_3_3_label tabindex=0> <span class=md-ellipsis> Using Github Actions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3_3> <span class="md-nav__icon md-icon"></span> Using Github Actions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/CI-CD/github-actions/setup-github-actions-pipeline/ class=md-nav__link> <span class=md-ellipsis> GitHub Actions CI/CD Pipeline </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> <span class=md-ellipsis> R </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> R </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/R/rstudio-server/running-rstudio-on-NERC/ class=md-nav__link> <span class=md-ellipsis> RStudio </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/R/r-shiny-server/running-rshiny-on-NERC/ class=md-nav__link> <span class=md-ellipsis> R Shiny </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../other-tools/apache-spark/spark/ class=md-nav__link> <span class=md-ellipsis> Apache Spark </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_6> <label class=md-nav__link for=__nav_7_6 id=__nav_7_6_label tabindex=0> <span class=md-ellipsis> MLflow </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_6_label aria-expanded=false> <label class=md-nav__title for=__nav_7_6> <span class="md-nav__icon md-icon"></span> MLflow </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/mlflow/mlflow-overview/ class=md-nav__link> <span class=md-ellipsis> MLflow Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/mlflow/mlflow-server-setup/ class=md-nav__link> <span class=md-ellipsis> MLflow Server Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../other-tools/postgres/postgres-cluster-setup/ class=md-nav__link> <span class=md-ellipsis> PostgresSQL Cluster </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/nfs/nfs-server-client-setup/ class=md-nav__link> <span class=md-ellipsis> Setup NFS Server and Client </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#about-the-example-fraud-detection-model class=md-nav__link> <span class=md-ellipsis> About the example fraud detection model </span> </a> </li> <li class=md-nav__item> <a href=#navigating-to-the-openshift-ai-dashboard class=md-nav__link> <span class=md-ellipsis> Navigating to the OpenShift AI dashboard </span> </a> </li> <li class=md-nav__item> <a href=#setting-up-your-data-science-project-in-the-nerc-rhoai class=md-nav__link> <span class=md-ellipsis> Setting up your Data Science Project in the NERC RHOAI </span> </a> <nav class=md-nav aria-label="Setting up your Data Science Project in the NERC RHOAI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-storing-data-with-connections class=md-nav__link> <span class=md-ellipsis> 1. Storing data with connections </span> </a> <nav class=md-nav aria-label="1. Storing data with connections"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11-using-your-own-s3-compatible-storage-buckets class=md-nav__link> <span class=md-ellipsis> 1.1. Using your own S3-compatible storage buckets </span> </a> </li> <li class=md-nav__item> <a href=#12-using-a-script-to-set-up-local-s3-storage-minio class=md-nav__link> <span class=md-ellipsis> 1.2. Using a script to set up local S3 storage (MinIO) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-enabling-data-science-pipelines class=md-nav__link> <span class=md-ellipsis> 2. Enabling data science pipelines </span> </a> </li> <li class=md-nav__item> <a href=#3-creating-a-workbench-and-a-notebook class=md-nav__link> <span class=md-ellipsis> 3. Creating a workbench and a notebook </span> </a> <nav class=md-nav aria-label="3. Creating a workbench and a notebook"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-a-workbench-and-selecting-a-notebook-image class=md-nav__link> <span class=md-ellipsis> Creating a workbench and selecting a notebook image </span> </a> </li> <li class=md-nav__item> <a href=#importing-the-tutorial-files-into-the-jupyter-environment class=md-nav__link> <span class=md-ellipsis> Importing the tutorial files into the Jupyter environment </span> </a> </li> <li class=md-nav__item> <a href=#training-a-model class=md-nav__link> <span class=md-ellipsis> Training a model </span> </a> <nav class=md-nav aria-label="Training a model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#adding-mlflow-to-training-code class=md-nav__link> <span class=md-ellipsis> Adding MLflow to Training Code </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-preparing-a-model-for-deployment class=md-nav__link> <span class=md-ellipsis> 4. Preparing a model for deployment </span> </a> </li> <li class=md-nav__item> <a href=#5-deploying-and-testing-a-model class=md-nav__link> <span class=md-ellipsis> 5. Deploying and testing a model </span> </a> <nav class=md-nav aria-label="5. Deploying and testing a model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#deploying-a-model class=md-nav__link> <span class=md-ellipsis> Deploying a model </span> </a> <nav class=md-nav aria-label="Deploying a model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#deploying-a-model-on-a-single-model-server class=md-nav__link> <span class=md-ellipsis> Deploying a model on a single-model server </span> </a> </li> <li class=md-nav__item> <a href=#deploying-a-model-on-a-multi-model-server class=md-nav__link> <span class=md-ellipsis> Deploying a model on a multi-model server </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing-the-model-api class=md-nav__link> <span class=md-ellipsis> Testing the model API </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6-implementing-pipelines class=md-nav__link> <span class=md-ellipsis> 6. Implementing pipelines </span> </a> <nav class=md-nav aria-label="6. Implementing pipelines"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#automating-workflows-with-data-science-pipelines class=md-nav__link> <span class=md-ellipsis> Automating workflows with data science pipelines </span> </a> <nav class=md-nav aria-label="Automating workflows with data science pipelines"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-a-pipeline class=md-nav__link> <span class=md-ellipsis> Create a pipeline </span> </a> </li> <li class=md-nav__item> <a href=#add-nodes-to-your-pipeline class=md-nav__link> <span class=md-ellipsis> Add nodes to your pipeline </span> </a> </li> <li class=md-nav__item> <a href=#specify-the-training-file-as-a-dependency class=md-nav__link> <span class=md-ellipsis> Specify the training file as a dependency </span> </a> </li> <li class=md-nav__item> <a href=#create-and-store-the-onnx-formatted-output-file class=md-nav__link> <span class=md-ellipsis> Create and store the ONNX-formatted output file </span> </a> </li> <li class=md-nav__item> <a href=#configure-the-connection-to-the-s3-storage-bucket class=md-nav__link> <span class=md-ellipsis> Configure the connection to the S3 storage bucket </span> </a> </li> <li class=md-nav__item> <a href=#run-the-pipeline class=md-nav__link> <span class=md-ellipsis> Run the Pipeline </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-a-data-science-pipeline-generated-from-python-code class=md-nav__link> <span class=md-ellipsis> Running a data science pipeline generated from Python code </span> </a> </li> <li class=md-nav__item> <a href=#schedule-execution class=md-nav__link> <span class=md-ellipsis> Schedule execution </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#deploy-the-model-application-on-nerc-openshift class=md-nav__link> <span class=md-ellipsis> Deploy the Model Application on NERC OpenShift </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../../.. class=md-path__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-path__item> <a href=../../ class=md-path__link> <span class=md-ellipsis> Red Hat OpenShift AI (RHOAI) </span> </a> </li> <li class=md-path__item> <a href=../how-access-s3-data-then-download-and-analyze-it/ class=md-path__link> <span class=md-ellipsis> Other Example Projects </span> </a> </li> <li class=md-path__item> <a href=../predictive-and-generative-AI/ class=md-path__link> <span class=md-ellipsis> Predictive &amp; Generative AI on NERC </span> </a> </li> <li class=md-path__item> <a href=./ class=md-path__link> <span class=md-ellipsis> Predictive AI tutorial </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <a href=https://github.com/nerc-project/nerc-docs/edit/main/docs/openshift-ai/other-projects/fraud-detection-predictive-ai-app.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg> </a> <h1 id=credit-card-fraud-detection-application>Credit Card Fraud Detection Application</h1> <p>Here you will use an example fraud detection model to complete the following tasks:</p> <ul> <li> <p>Train your own fraud detection model.</p> </li> <li> <p>Explore a pre-trained fraud detection model by using a Jupyter notebook.</p> </li> <li> <p>Deploy the model by using OpenShift AI model serving.</p> </li> <li> <p>Refine and train the model by using automated pipelines.</p> </li> <li> <p>Deploy the "Credit Card Fraud Detection" application on NERC OpenShift, which connects to the deployed model.</p> </li> </ul> <h2 id=about-the-example-fraud-detection-model>About the example fraud detection model</h2> <p>The example fraud detection model monitors credit card transactions for potential fraudulent activity by analyzing the following details:</p> <ul> <li> <p><strong>Distance</strong> from the cardholder's home and previous transaction.</p> </li> <li> <p><strong>Purchase amount</strong>, compared to the user's median transaction price.</p> </li> <li> <p><strong>Retailer history</strong>, indicating whether the merchant has been used before.</p> </li> <li> <p><strong>Authentication method</strong>, such as PIN usage.</p> </li> <li> <p><strong>Transaction type</strong>, distinguishing between online and in-person purchases.</p> </li> </ul> <p>Based on the above mentioned factors, the model determines the likelihood of a transaction being fraudulent.</p> <h2 id=navigating-to-the-openshift-ai-dashboard>Navigating to the OpenShift AI dashboard</h2> <p>Please follow <a href=../../logging-in/access-the-rhoai-dashboard/ >these steps</a> to access the NERC OpenShift AI dashboard.</p> <h2 id=setting-up-your-data-science-project-in-the-nerc-rhoai>Setting up your Data Science Project in the NERC RHOAI</h2> <p><strong>Prerequisites</strong>:</p> <ul> <li>Before proceeding, confirm that you have an active GPU quota that has been approved for your current NERC OpenShift Allocation through NERC ColdFront. Read more about <a href=../../../openshift/gpus/intro-to-gpus-on-nerc-ocp/#accessing-gpu-resources>How to Access GPU Resources</a> on NERC OpenShift Allocation.</li> </ul> <h3 id=1-storing-data-with-connections>1. Storing data with connections</h3> <p>For this tutorial, you will need <strong>two S3-compatible object storage buckets</strong>, such as <strong>NERC OpenStack Container (Ceph)</strong>, <strong>MinIO</strong>, or <strong>AWS S3</strong>. You can either use your own storage buckets or run a provided script that automatically creates the following <strong>local S3 storage (MinIO) buckets</strong>:</p> <ul> <li> <p><strong>my-storage</strong>  Use this bucket to store your models and data. You can reuse this bucket and its connection for notebooks and model servers.</p> </li> <li> <p><strong>pipeline-artifacts</strong>  Use this bucket to store pipeline artifacts. A pipeline artifacts bucket is required when setting up a pipeline server. For clarity, this tutorial keeps it separate from the first storage bucket, as it is considered best practice to use dedicated storage buckets for different purposes.</p> </li> </ul> <p>You must also create a connection to each storage bucket. For this tutorial, you have two options depending on whether you want to use your own storage buckets or a script to create local S3 storage (MinIO) buckets:</p> <h4 id=11-using-your-own-s3-compatible-storage-buckets>1.1. <strong>Using your own S3-compatible storage buckets</strong></h4> <p><strong>Procedure</strong>:</p> <p>Manually create two connections: <strong>My Storage</strong> and <strong>Pipeline Artifacts</strong> by following <a href=../../data-science-project/model-serving-in-the-rhoai/#create-a-connection>How to create a connection</a>.</p> <p><strong>Verification</strong>:</p> <p>You should see two connections listed under your RHOAI Dashboard <strong>My Storage</strong> and <strong>Pipeline Artifacts</strong> as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/data-connections.png data-desc-position=bottom><img alt=Connections src=../images/data-connections.png></a></p> <h4 id=12-using-a-script-to-set-up-local-s3-storage-minio>1.2. <strong>Using a script to set up local S3 storage (MinIO)</strong></h4> <p>Alternatively, if you want to run a script that automates the setup by completing the following tasks:</p> <ul> <li> <p><strong>Deploys a MinIO instance</strong> in your project namespace.</p> </li> <li> <p><strong>Creates two storage buckets</strong> within the MinIO instance.</p> </li> <li> <p><strong>Generates a random user ID and password</strong> for the MinIO Console.</p> </li> <li> <p><strong>Establishes two connections</strong> in your project - one for each bucket - using the same generated credentials.</p> </li> <li> <p>Installs all required <strong>network policies</strong>.</p> </li> </ul> <p><strong>Procedure</strong>:</p> <p>i. From the OpenShift AI dashboard, you can return to OpenShift Web Console by using the application launcher icon (the black-and-white icon that looks like a grid), and choosing the "OpenShift Console" as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/the-nerc-openshift-web-console-link.png data-desc-position=bottom><img alt="The NERC OpenShift Web Console Link" src=../images/the-nerc-openshift-web-console-link.png></a></p> <p>ii. From your <a href=https://console.apps.shift.nerc.mghpcc.org/ >NERC's OpenShift Web Console</a>, navigate to your project corresponding to the <em>NERC RHOAI Data Science Project</em> and select the "Import YAML" button, represented by the "+" icon in the top navigation bar as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/yaml-upload-plus-icon.png data-desc-position=bottom><img alt="YAML Add Icon" src=../images/yaml-upload-plus-icon.png></a></p> <p>iii. Verify that you selected the correct project.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/project-verify-yaml-editor.png data-desc-position=bottom><img alt="Correct Project Selected for YAML Editor" src=../images/project-verify-yaml-editor.png></a></p> <p>iv. Copy the following code and paste it into the Import YAML editor.</p> <details class=note> <summary>Local S3 storage (MinIO) Creation YAML Script</summary> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nn>---</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ServiceAccount</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-setup</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=nn>---</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io/v1</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">RoleBinding</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-setup-edit</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=nt>roleRef</span><span class=p>:</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=w>  </span><span class=nt>apiGroup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=w>  </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ClusterRole</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">edit</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=nt>subjects</span><span class=p>:</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ServiceAccount</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-setup</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a><span class=nn>---</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-pvc</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a><span class=w>  </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a><span class=w>    </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span><span class=w> </span><span class=c1># Adjust the size according to your needs</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a><span class=nn>---</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-deployment</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a><span class=w>    </span><span class=nt>app.kubernetes.io/part-of</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a><span class=w>  </span><span class=nt>selector</span><span class=p>:</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46 href=#__codelineno-0-46></a><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47 href=#__codelineno-0-47></a><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48 href=#__codelineno-0-48></a><span class=w>  </span><span class=nt>strategy</span><span class=p>:</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49 href=#__codelineno-0-49></a><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Recreate</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50 href=#__codelineno-0-50></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51 href=#__codelineno-0-51></a><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52 href=#__codelineno-0-52></a><span class=w>      </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53 href=#__codelineno-0-53></a><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54 href=#__codelineno-0-54></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55 href=#__codelineno-0-55></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56 href=#__codelineno-0-56></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>args</span><span class=p>:</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57 href=#__codelineno-0-57></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio server /data --console-address :9090</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58 href=#__codelineno-0-58></a><span class=w>        </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59 href=#__codelineno-0-59></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/bin/bash</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60 href=#__codelineno-0-60></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-c</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61 href=#__codelineno-0-61></a><span class=w>        </span><span class=nt>envFrom</span><span class=p>:</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62 href=#__codelineno-0-62></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>secretRef</span><span class=p>:</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63 href=#__codelineno-0-63></a><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-root-user</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64 href=#__codelineno-0-64></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">quay.io/minio/minio:latest</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65 href=#__codelineno-0-65></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66 href=#__codelineno-0-66></a><span class=w>        </span><span class=nt>ports</span><span class=p>:</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67 href=#__codelineno-0-67></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">9000</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68 href=#__codelineno-0-68></a><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">api</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69 href=#__codelineno-0-69></a><span class=w>          </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70 href=#__codelineno-0-70></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">9090</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71 href=#__codelineno-0-71></a><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">console</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72 href=#__codelineno-0-72></a><span class=w>          </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73 href=#__codelineno-0-73></a><span class=w>        </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74 href=#__codelineno-0-74></a><span class=w>          </span><span class=nt>limits</span><span class=p>:</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75 href=#__codelineno-0-75></a><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s>"2"</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76 href=#__codelineno-0-76></a><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2Gi</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77 href=#__codelineno-0-77></a><span class=w>          </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78 href=#__codelineno-0-78></a><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">200m</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79 href=#__codelineno-0-79></a><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1Gi</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80 href=#__codelineno-0-80></a><span class=w>        </span><span class=nt>volumeMounts</span><span class=p>:</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81 href=#__codelineno-0-81></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/data</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82 href=#__codelineno-0-82></a><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-volume</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83 href=#__codelineno-0-83></a><span class=w>      </span><span class=nt>volumes</span><span class=p>:</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84 href=#__codelineno-0-84></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-volume</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85 href=#__codelineno-0-85></a><span class=w>        </span><span class=nt>persistentVolumeClaim</span><span class=p>:</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86 href=#__codelineno-0-86></a><span class=w>          </span><span class=nt>claimName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-pvc</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87 href=#__codelineno-0-87></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>emptyDir</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{}</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88 href=#__codelineno-0-88></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">empty</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89 href=#__codelineno-0-89></a><span class=nn>---</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90 href=#__codelineno-0-90></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91 href=#__codelineno-0-91></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92 href=#__codelineno-0-92></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93 href=#__codelineno-0-93></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create-ds-connections</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94 href=#__codelineno-0-94></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95 href=#__codelineno-0-95></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96 href=#__codelineno-0-96></a><span class=w>    </span><span class=nt>app.kubernetes.io/part-of</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97 href=#__codelineno-0-97></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98 href=#__codelineno-0-98></a><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{}</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99 href=#__codelineno-0-99></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100 href=#__codelineno-0-100></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101 href=#__codelineno-0-101></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102 href=#__codelineno-0-102></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>args</span><span class=p>:</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103 href=#__codelineno-0-103></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-ec</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104 href=#__codelineno-0-104></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|-</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105 href=#__codelineno-0-105></a><span class=w>          </span><span class=no>echo -n 'Waiting for minio route'</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106 href=#__codelineno-0-106></a><span class=w>          </span><span class=no>while ! oc get route minio-s3 2&gt;/dev/null | grep -qF minio-s3; do</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107 href=#__codelineno-0-107></a><span class=w>            </span><span class=no>echo -n .</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108 href=#__codelineno-0-108></a><span class=w>            </span><span class=no>sleep 5</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109 href=#__codelineno-0-109></a><span class=w>          </span><span class=no>done; echo</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110 href=#__codelineno-0-110></a>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111 href=#__codelineno-0-111></a><span class=w>          </span><span class=no>echo -n 'Waiting for minio root user secret'</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112 href=#__codelineno-0-112></a><span class=w>          </span><span class=no>while ! oc get secret minio-root-user 2&gt;/dev/null | grep -qF minio-root-user; do</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113 href=#__codelineno-0-113></a><span class=w>            </span><span class=no>echo -n .</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114 href=#__codelineno-0-114></a><span class=w>            </span><span class=no>sleep 5</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115 href=#__codelineno-0-115></a><span class=w>          </span><span class=no>done; echo</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116 href=#__codelineno-0-116></a>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117 href=#__codelineno-0-117></a><span class=w>          </span><span class=no>MINIO_ROOT_USER=$(oc get secret minio-root-user -o template --template '{{.data.MINIO_ROOT_USER}}')</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118 href=#__codelineno-0-118></a><span class=w>          </span><span class=no>MINIO_ROOT_PASSWORD=$(oc get secret minio-root-user -o template --template '{{.data.MINIO_ROOT_PASSWORD}}')</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119 href=#__codelineno-0-119></a><span class=w>          </span><span class=no>MINIO_HOST=https://$(oc get route minio-s3 -o template --template '{{.spec.host}}')</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120 href=#__codelineno-0-120></a>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121 href=#__codelineno-0-121></a><span class=w>          </span><span class=no>cat &lt;&lt; EOF | oc apply -f-</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122 href=#__codelineno-0-122></a><span class=w>          </span><span class=no>apiVersion: v1</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123 href=#__codelineno-0-123></a><span class=w>          </span><span class=no>kind: Secret</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124 href=#__codelineno-0-124></a><span class=w>          </span><span class=no>metadata:</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125 href=#__codelineno-0-125></a><span class=w>            </span><span class=no>annotations:</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126 href=#__codelineno-0-126></a><span class=w>              </span><span class=no>opendatahub.io/connection-type: s3</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127 href=#__codelineno-0-127></a><span class=w>              </span><span class=no>openshift.io/display-name: My Storage</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128 href=#__codelineno-0-128></a><span class=w>            </span><span class=no>labels:</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129 href=#__codelineno-0-129></a><span class=w>              </span><span class=no>opendatahub.io/dashboard: "true"</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130 href=#__codelineno-0-130></a><span class=w>              </span><span class=no>opendatahub.io/managed: "true"</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131 href=#__codelineno-0-131></a><span class=w>            </span><span class=no>name: aws-connection-my-storage</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132 href=#__codelineno-0-132></a><span class=w>          </span><span class=no>data:</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133 href=#__codelineno-0-133></a><span class=w>            </span><span class=no>AWS_ACCESS_KEY_ID: ${MINIO_ROOT_USER}</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134 href=#__codelineno-0-134></a><span class=w>            </span><span class=no>AWS_SECRET_ACCESS_KEY: ${MINIO_ROOT_PASSWORD}</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135 href=#__codelineno-0-135></a><span class=w>          </span><span class=no>stringData:</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136 href=#__codelineno-0-136></a><span class=w>            </span><span class=no>AWS_DEFAULT_REGION: us-east-1</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137 href=#__codelineno-0-137></a><span class=w>            </span><span class=no>AWS_S3_BUCKET: my-storage</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138 href=#__codelineno-0-138></a><span class=w>            </span><span class=no>AWS_S3_ENDPOINT: ${MINIO_HOST}</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139 href=#__codelineno-0-139></a><span class=w>          </span><span class=no>type: Opaque</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140 href=#__codelineno-0-140></a><span class=w>          </span><span class=no>EOF</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141 href=#__codelineno-0-141></a><span class=w>          </span><span class=no>cat &lt;&lt; EOF | oc apply -f-</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142 href=#__codelineno-0-142></a><span class=w>          </span><span class=no>apiVersion: v1</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143 href=#__codelineno-0-143></a><span class=w>          </span><span class=no>kind: Secret</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144 href=#__codelineno-0-144></a><span class=w>          </span><span class=no>metadata:</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145 href=#__codelineno-0-145></a><span class=w>            </span><span class=no>annotations:</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146 href=#__codelineno-0-146></a><span class=w>              </span><span class=no>opendatahub.io/connection-type: s3</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147 href=#__codelineno-0-147></a><span class=w>              </span><span class=no>openshift.io/display-name: Pipeline Artifacts</span>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148 href=#__codelineno-0-148></a><span class=w>            </span><span class=no>labels:</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149 href=#__codelineno-0-149></a><span class=w>              </span><span class=no>opendatahub.io/dashboard: "true"</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150 href=#__codelineno-0-150></a><span class=w>              </span><span class=no>opendatahub.io/managed: "true"</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151 href=#__codelineno-0-151></a><span class=w>            </span><span class=no>name: aws-connection-pipeline-artifacts</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152 href=#__codelineno-0-152></a><span class=w>          </span><span class=no>data:</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153 href=#__codelineno-0-153></a><span class=w>            </span><span class=no>AWS_ACCESS_KEY_ID: ${MINIO_ROOT_USER}</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154 href=#__codelineno-0-154></a><span class=w>            </span><span class=no>AWS_SECRET_ACCESS_KEY: ${MINIO_ROOT_PASSWORD}</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155 href=#__codelineno-0-155></a><span class=w>          </span><span class=no>stringData:</span>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156 href=#__codelineno-0-156></a><span class=w>            </span><span class=no>AWS_DEFAULT_REGION: us-east-1</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157 href=#__codelineno-0-157></a><span class=w>            </span><span class=no>AWS_S3_BUCKET: pipeline-artifacts</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158 href=#__codelineno-0-158></a><span class=w>            </span><span class=no>AWS_S3_ENDPOINT: ${MINIO_HOST}</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159 href=#__codelineno-0-159></a><span class=w>          </span><span class=no>type: Opaque</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160 href=#__codelineno-0-160></a><span class=w>          </span><span class=no>EOF</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161 href=#__codelineno-0-161></a><span class=w>        </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162 href=#__codelineno-0-162></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/bin/bash</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163 href=#__codelineno-0-163></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">image-registry.openshift-image-registry.svc:5000/openshift/tools:latest</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164 href=#__codelineno-0-164></a><span class=w>        </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165 href=#__codelineno-0-165></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create-ds-connections</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166 href=#__codelineno-0-166></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167 href=#__codelineno-0-167></a><span class=w>      </span><span class=nt>serviceAccount</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-setup</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168 href=#__codelineno-0-168></a><span class=w>      </span><span class=nt>serviceAccountName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-setup</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169 href=#__codelineno-0-169></a><span class=nn>---</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170 href=#__codelineno-0-170></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171 href=#__codelineno-0-171></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172 href=#__codelineno-0-172></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173 href=#__codelineno-0-173></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create-minio-buckets</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174 href=#__codelineno-0-174></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175 href=#__codelineno-0-175></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176 href=#__codelineno-0-176></a><span class=w>    </span><span class=nt>app.kubernetes.io/part-of</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177 href=#__codelineno-0-177></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178 href=#__codelineno-0-178></a><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{}</span>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179 href=#__codelineno-0-179></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180 href=#__codelineno-0-180></a><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181 href=#__codelineno-0-181></a><span class=w>      </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182 href=#__codelineno-0-182></a><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183 href=#__codelineno-0-183></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184 href=#__codelineno-0-184></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185 href=#__codelineno-0-185></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>args</span><span class=p>:</span>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186 href=#__codelineno-0-186></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-ec</span>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187 href=#__codelineno-0-187></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|-</span>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188 href=#__codelineno-0-188></a><span class=w>          </span><span class=no>oc get secret minio-root-user</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189 href=#__codelineno-0-189></a><span class=w>          </span><span class=no>env | grep MINIO</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190 href=#__codelineno-0-190></a><span class=w>          </span><span class=no>cat &lt;&lt; 'EOF' | python3</span>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191 href=#__codelineno-0-191></a><span class=w>          </span><span class=no>import boto3, os</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192 href=#__codelineno-0-192></a>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193 href=#__codelineno-0-193></a><span class=w>          </span><span class=no>s3 = boto3.client("s3",</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194 href=#__codelineno-0-194></a><span class=w>                            </span><span class=no>endpoint_url="http://minio-service:9000",</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195 href=#__codelineno-0-195></a><span class=w>                            </span><span class=no>aws_access_key_id=os.getenv("MINIO_ROOT_USER"),</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196 href=#__codelineno-0-196></a><span class=w>                            </span><span class=no>aws_secret_access_key=os.getenv("MINIO_ROOT_PASSWORD"))</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197 href=#__codelineno-0-197></a><span class=w>          </span><span class=no>bucket = 'pipeline-artifacts'</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198 href=#__codelineno-0-198></a><span class=w>          </span><span class=no>print('creating pipeline-artifacts bucket')</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199 href=#__codelineno-0-199></a><span class=w>          </span><span class=no>if bucket not in [bu["Name"] for bu in s3.list_buckets()["Buckets"]]:</span>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200 href=#__codelineno-0-200></a><span class=w>            </span><span class=no>s3.create_bucket(Bucket=bucket)</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201 href=#__codelineno-0-201></a><span class=w>          </span><span class=no>bucket = 'my-storage'</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202 href=#__codelineno-0-202></a><span class=w>          </span><span class=no>print('creating my-storage bucket')</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203 href=#__codelineno-0-203></a><span class=w>          </span><span class=no>if bucket not in [bu["Name"] for bu in s3.list_buckets()["Buckets"]]:</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204 href=#__codelineno-0-204></a><span class=w>            </span><span class=no>s3.create_bucket(Bucket=bucket)</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205 href=#__codelineno-0-205></a><span class=w>          </span><span class=no>EOF</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206 href=#__codelineno-0-206></a><span class=w>        </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207 href=#__codelineno-0-207></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/bin/bash</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208 href=#__codelineno-0-208></a><span class=w>        </span><span class=nt>envFrom</span><span class=p>:</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209 href=#__codelineno-0-209></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>secretRef</span><span class=p>:</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210 href=#__codelineno-0-210></a><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-root-user</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211 href=#__codelineno-0-211></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">image-registry.openshift-image-registry.svc:5000/redhat-ods-applications/s2i-generic-data-science-notebook:2023.2</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212 href=#__codelineno-0-212></a><span class=w>        </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213 href=#__codelineno-0-213></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create-buckets</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214 href=#__codelineno-0-214></a><span class=w>      </span><span class=nt>initContainers</span><span class=p>:</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215 href=#__codelineno-0-215></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>args</span><span class=p>:</span>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216 href=#__codelineno-0-216></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-ec</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217 href=#__codelineno-0-217></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|-</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218 href=#__codelineno-0-218></a><span class=w>          </span><span class=no>echo -n 'Waiting for minio root user secret'</span>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219 href=#__codelineno-0-219></a><span class=w>          </span><span class=no>while ! oc get secret minio-root-user 2&gt;/dev/null | grep -qF minio-root-user; do</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220 href=#__codelineno-0-220></a><span class=w>          </span><span class=no>echo -n .</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221 href=#__codelineno-0-221></a><span class=w>          </span><span class=no>sleep 5</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222 href=#__codelineno-0-222></a><span class=w>          </span><span class=no>done; echo</span>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223 href=#__codelineno-0-223></a>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224 href=#__codelineno-0-224></a><span class=w>          </span><span class=no>echo -n 'Waiting for minio deployment'</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225 href=#__codelineno-0-225></a><span class=w>          </span><span class=no>while ! oc get deployment minio-deployment 2&gt;/dev/null | grep -qF minio-deployment; do</span>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226 href=#__codelineno-0-226></a><span class=w>            </span><span class=no>echo -n .</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227 href=#__codelineno-0-227></a><span class=w>            </span><span class=no>sleep 5</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228 href=#__codelineno-0-228></a><span class=w>          </span><span class=no>done; echo</span>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229 href=#__codelineno-0-229></a><span class=w>          </span><span class=no>oc wait --for=condition=available --timeout=60s deployment/minio-deployment</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230 href=#__codelineno-0-230></a><span class=w>          </span><span class=no>sleep 10</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231 href=#__codelineno-0-231></a><span class=w>        </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232 href=#__codelineno-0-232></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/bin/bash</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233 href=#__codelineno-0-233></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">image-registry.openshift-image-registry.svc:5000/openshift/tools:latest</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234 href=#__codelineno-0-234></a><span class=w>        </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235 href=#__codelineno-0-235></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">wait-for-minio</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236 href=#__codelineno-0-236></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237 href=#__codelineno-0-237></a><span class=w>      </span><span class=nt>serviceAccount</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-setup</span>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238 href=#__codelineno-0-238></a><span class=w>      </span><span class=nt>serviceAccountName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-setup</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239 href=#__codelineno-0-239></a><span class=nn>---</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240 href=#__codelineno-0-240></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241 href=#__codelineno-0-241></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242 href=#__codelineno-0-242></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243 href=#__codelineno-0-243></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create-minio-root-user</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244 href=#__codelineno-0-244></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245 href=#__codelineno-0-245></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246 href=#__codelineno-0-246></a><span class=w>    </span><span class=nt>app.kubernetes.io/part-of</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247 href=#__codelineno-0-247></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248 href=#__codelineno-0-248></a><span class=w>  </span><span class=nt>backoffLimit</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249 href=#__codelineno-0-249></a><span class=w>  </span><span class=nt>template</span><span class=p>:</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250 href=#__codelineno-0-250></a><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251 href=#__codelineno-0-251></a><span class=w>      </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252 href=#__codelineno-0-252></a><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253 href=#__codelineno-0-253></a><span class=w>    </span><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254 href=#__codelineno-0-254></a><span class=w>      </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255 href=#__codelineno-0-255></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>args</span><span class=p>:</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256 href=#__codelineno-0-256></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">-ec</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257 href=#__codelineno-0-257></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">|-</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258 href=#__codelineno-0-258></a><span class=w>          </span><span class=no>if [ -n "$(oc get secret minio-root-user -oname 2&gt;/dev/null)" ]; then</span>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259 href=#__codelineno-0-259></a><span class=w>            </span><span class=no>echo "Secret already exists. Skipping." &gt;&amp;2</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260 href=#__codelineno-0-260></a><span class=w>            </span><span class=no>exit 0</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261 href=#__codelineno-0-261></a><span class=w>          </span><span class=no>fi</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262 href=#__codelineno-0-262></a><span class=w>          </span><span class=no>genpass() {</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263 href=#__codelineno-0-263></a><span class=w>              </span><span class=no>&lt; /dev/urandom tr -dc _A-Z-a-z-0-9 | head -c"${1:-32}"</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264 href=#__codelineno-0-264></a><span class=w>          </span><span class=no>}</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265 href=#__codelineno-0-265></a><span class=w>          </span><span class=no>id=$(genpass 16)</span>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266 href=#__codelineno-0-266></a><span class=w>          </span><span class=no>secret=$(genpass)</span>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267 href=#__codelineno-0-267></a><span class=w>          </span><span class=no>cat &lt;&lt; EOF | oc apply -f-</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268 href=#__codelineno-0-268></a><span class=w>          </span><span class=no>apiVersion: v1</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269 href=#__codelineno-0-269></a><span class=w>          </span><span class=no>kind: Secret</span>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270 href=#__codelineno-0-270></a><span class=w>          </span><span class=no>metadata:</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271 href=#__codelineno-0-271></a><span class=w>            </span><span class=no>name: minio-root-user</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272 href=#__codelineno-0-272></a><span class=w>          </span><span class=no>type: Opaque</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273 href=#__codelineno-0-273></a><span class=w>          </span><span class=no>stringData:</span>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274 href=#__codelineno-0-274></a><span class=w>            </span><span class=no>MINIO_ROOT_USER: ${id}</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275 href=#__codelineno-0-275></a><span class=w>            </span><span class=no>MINIO_ROOT_PASSWORD: ${secret}</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276 href=#__codelineno-0-276></a><span class=w>          </span><span class=no>EOF</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277 href=#__codelineno-0-277></a><span class=w>        </span><span class=nt>command</span><span class=p>:</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278 href=#__codelineno-0-278></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/bin/bash</span>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279 href=#__codelineno-0-279></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">image-registry.openshift-image-registry.svc:5000/openshift/tools:latest</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280 href=#__codelineno-0-280></a><span class=w>        </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">IfNotPresent</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281 href=#__codelineno-0-281></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create-minio-root-user</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282 href=#__codelineno-0-282></a><span class=w>      </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283 href=#__codelineno-0-283></a><span class=w>      </span><span class=nt>serviceAccount</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-setup</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284 href=#__codelineno-0-284></a><span class=w>      </span><span class=nt>serviceAccountName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-setup</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285 href=#__codelineno-0-285></a><span class=nn>---</span>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286 href=#__codelineno-0-286></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287 href=#__codelineno-0-287></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288 href=#__codelineno-0-288></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289 href=#__codelineno-0-289></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-service</span>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290 href=#__codelineno-0-290></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291 href=#__codelineno-0-291></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292 href=#__codelineno-0-292></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293 href=#__codelineno-0-293></a><span class=w>  </span><span class=nt>ports</span><span class=p>:</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294 href=#__codelineno-0-294></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">api</span>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295 href=#__codelineno-0-295></a><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">9000</span>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296 href=#__codelineno-0-296></a><span class=w>    </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">api</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297 href=#__codelineno-0-297></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">console</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298 href=#__codelineno-0-298></a><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">9090</span>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299 href=#__codelineno-0-299></a><span class=w>    </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">9090</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300 href=#__codelineno-0-300></a><span class=w>  </span><span class=nt>selector</span><span class=p>:</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301 href=#__codelineno-0-301></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302 href=#__codelineno-0-302></a><span class=w>  </span><span class=nt>sessionAffinity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303 href=#__codelineno-0-303></a><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304 href=#__codelineno-0-304></a><span class=nn>---</span>
</span><span id=__span-0-305><a id=__codelineno-0-305 name=__codelineno-0-305 href=#__codelineno-0-305></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">route.openshift.io/v1</span>
</span><span id=__span-0-306><a id=__codelineno-0-306 name=__codelineno-0-306 href=#__codelineno-0-306></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Route</span>
</span><span id=__span-0-307><a id=__codelineno-0-307 name=__codelineno-0-307 href=#__codelineno-0-307></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308 href=#__codelineno-0-308></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-console</span>
</span><span id=__span-0-309><a id=__codelineno-0-309 name=__codelineno-0-309 href=#__codelineno-0-309></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-310><a id=__codelineno-0-310 name=__codelineno-0-310 href=#__codelineno-0-310></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311 href=#__codelineno-0-311></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-312><a id=__codelineno-0-312 name=__codelineno-0-312 href=#__codelineno-0-312></a><span class=w>  </span><span class=nt>port</span><span class=p>:</span>
</span><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313 href=#__codelineno-0-313></a><span class=w>    </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">console</span>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314 href=#__codelineno-0-314></a><span class=w>  </span><span class=nt>tls</span><span class=p>:</span>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315 href=#__codelineno-0-315></a><span class=w>    </span><span class=nt>insecureEdgeTerminationPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Redirect</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316 href=#__codelineno-0-316></a><span class=w>    </span><span class=nt>termination</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">edge</span>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317 href=#__codelineno-0-317></a><span class=w>  </span><span class=nt>to</span><span class=p>:</span>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318 href=#__codelineno-0-318></a><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319 href=#__codelineno-0-319></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-service</span>
</span><span id=__span-0-320><a id=__codelineno-0-320 name=__codelineno-0-320 href=#__codelineno-0-320></a><span class=w>    </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
</span><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321 href=#__codelineno-0-321></a><span class=w>  </span><span class=nt>wildcardPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322 href=#__codelineno-0-322></a><span class=nn>---</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323 href=#__codelineno-0-323></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">route.openshift.io/v1</span>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324 href=#__codelineno-0-324></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Route</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325 href=#__codelineno-0-325></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326 href=#__codelineno-0-326></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-s3</span>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327 href=#__codelineno-0-327></a><span class=w>  </span><span class=nt>labels</span><span class=p>:</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328 href=#__codelineno-0-328></a><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329 href=#__codelineno-0-329></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330 href=#__codelineno-0-330></a><span class=w>  </span><span class=nt>port</span><span class=p>:</span>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331 href=#__codelineno-0-331></a><span class=w>    </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">api</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332 href=#__codelineno-0-332></a><span class=w>  </span><span class=nt>tls</span><span class=p>:</span>
</span><span id=__span-0-333><a id=__codelineno-0-333 name=__codelineno-0-333 href=#__codelineno-0-333></a><span class=w>    </span><span class=nt>insecureEdgeTerminationPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Redirect</span>
</span><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334 href=#__codelineno-0-334></a><span class=w>    </span><span class=nt>termination</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">edge</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335 href=#__codelineno-0-335></a><span class=w>  </span><span class=nt>to</span><span class=p>:</span>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336 href=#__codelineno-0-336></a><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337 href=#__codelineno-0-337></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">minio-service</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338 href=#__codelineno-0-338></a><span class=w>    </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339 href=#__codelineno-0-339></a><span class=w>  </span><span class=nt>wildcardPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
</span></code></pre></div> </details> <div class="admonition warning"> <p class=admonition-title>Very Important Note</p> <p>In this YAML file, the size of the storage is set as 10Gi. Change it if you need to.</p> </div> <p>v. Click <strong>Create</strong>.</p> <p><strong>Verification</strong>:</p> <p>i. Once Resource is successfully created, you will see a "Resources successfully created" message and the following resources listed:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/yaml-import-success.png data-desc-position=bottom><img alt="Resources successfully created Importing More YAML" src=../images/yaml-import-success.png></a></p> <p>ii. Once the deployment is successful, you will be able to see all resources are created and grouped under "minio" application grouping on the <strong>Workloads</strong> -&gt; <strong>Topology</strong> menu, as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/minio-topology.png data-desc-position=bottom><img alt="MinIO Under Topology" src=../images/minio-topology.png></a></p> <p>Once successfully initiated, click on the <strong>minio</strong> deployment and select the "Resources" tab to review created <em>Pods</em>, <em>Services</em>, and <em>Routes</em>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/minio-deployment-resources.png data-desc-position=bottom><img alt="MinIO Deployemnt Resources" src=../images/minio-deployment-resources.png></a></p> <p>Please note the <strong>minio-console</strong> route URL by navigating to the "Routes" section under the <em>Location</em> path. When you click on the <strong>minio-console</strong> route URL, it will open the MinIO web console that looks like below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/minio-web-console.png data-desc-position=bottom><img alt="MinIO Web Console" src=../images/minio-web-console.png></a></p> <div class="admonition info"> <p class=admonition-title>MinIO Web Console Login Credential</p> <p>The Username and Password for the MinIO web console can be retrieved from the Connection's <strong>Access key</strong> and <strong>Secret key</strong>.</p> </div> <p>iii. Navigate back to the OpenShift AI dashboard.</p> <p>a. Select Data Science Projects and then click the name of your project, i.e. <strong>Fraud detection</strong>.</p> <p>b. Click <strong>Connections</strong>. You should see two connections listed: <em>My Storage</em> and <em>Pipeline Artifacts</em> as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/data-connections.png data-desc-position=bottom><img alt=Connections src=../images/data-connections.png></a></p> <p>c. Verify the buckets are created on the MinIO Web Console:</p> <ul> <li> <p>Click on any connection from the list that was created and then click the action menu () at the end of the selected connection row. Choose "Edit" from the dropdown menu. This will open a pop-up window as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/edit-connection.png data-desc-position=bottom><img alt="Edit Connection Pop up" src=../images/edit-connection.png></a></p> </li> <li> <p>Note both <em>Access key</em> (by clicking eye icon near the end of the textbox) and <em>Secret key</em>.</p> <div class="admonition note"> <p class=admonition-title>Alternatively, Run <code>oc</code> commands to get <em>Access key</em> and <em>Secret key</em></p> <p>Alternatively, you can run the following <code>oc</code> commands:</p> <p>i. To get <em>Access key</em> run:</p> <p><code>oc get secret minio-root-user -o template --template '{{.data.MINIO_ROOT_USER}}' | base64 --decode</code></p> <p>ii. And to get <em>Secret key</em> run:</p> <p><code>oc get secret minio-root-user -o template --template '{{.data.MINIO_ROOT_PASSWORD}}' | base64 --decode</code></p> </div> </li> <li> <p>Return to the <strong>MinIO Web Console</strong> using the provided URL. Enter the <strong>Access Key</strong> as the <strong>Username</strong> and the <strong>Secret Key</strong> as the <strong>Password</strong>. This will open the <strong>Object Browser</strong>, where you should verify that both buckets: <strong>my-storage</strong> and <strong>pipeline-artifacts</strong> are visible as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/minio-object-browser.png data-desc-position=bottom><img alt="MinIO Object Browser" src=../images/minio-object-browser.png></a></p> </li> </ul> <div class="admonition note"> <p class=admonition-title>Alternatively, Running a script to install local MinIO object storage</p> <p>Alternatively, you can run a script to install local object storage buckets and create connections using the OpenShift CLI (<code>oc</code>). For that, you need to install and configure the OpenShift CLI by following the <a href=../../../openshift/logging-in/setup-the-openshift-cli/#installing-the-openshift-cli>setup instructions</a>. Once the OpenShift CLI is set up, execute the following command to install MinIO object storage along with local S3 storage (MinIO) buckets and necessary connections:</p> <p><code>oc apply -f https://raw.githubusercontent.com/nerc-project/fraud-detection/main/setup/setup-s3.yaml</code></p> </div> <div class="admonition tip"> <p class=admonition-title>Clean Up</p> <p>To delete all resources if not necessary just run <code>oc delete -f https://raw.githubusercontent.com/nerc-project/fraud-detection/main/setup/setup-s3.yaml</code> or <code>oc delete all,sa,rolebindings,pvc,job -l app=minio</code>.</p> </div> <div class="admonition danger"> <p class=admonition-title>Important Note</p> <p>The script is based on a <a href=https://ai-on-openshift.io/tools-and-applications/minio/minio/ >guide for deploying MinIO</a>. The MinIO-based Object Storage that the script creates is not meant for production usage.</p> </div> <h3 id=2-enabling-data-science-pipelines>2. Enabling data science pipelines</h3> <p>In this section, you prepare your workbench environment so that you can use data science pipelines.</p> <p><strong>Procedure</strong>:</p> <p>i. From the OpenShift AI dashboard, click the <strong>Pipelines</strong> tab.</p> <p>ii. Click <strong>Configure pipeline server</strong>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/pipelines.png data-desc-position=bottom><img alt="Pipelines Section" src=../images/pipelines.png></a></p> <p>iii. In the <strong>Configure pipeline server</strong> form, in the <strong>Access key</strong> field next to the key icon, click the dropdown menu and then click <strong>Pipeline Artifacts</strong> to populate the <strong>Configure pipeline server</strong> form with credentials for the connection.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-project-create-pipeline-server-form.png data-desc-position=bottom><img alt="Selecting the Pipeline Artifacts connection" src=../images/ds-project-create-pipeline-server-form.png></a></p> <p>iv. Leave the database configuration as the default.</p> <p>v. Click <strong>Configure pipeline server</strong>.</p> <p>vi. Wait until the loading spinner disappears and <strong>Start by importing a pipeline</strong> is displayed.</p> <div class="admonition note"> <p class=admonition-title>Important Note</p> <p>You must wait until the pipeline configuration is complete before you continue and create your workbench. If you continue and <a href=#3-creating-a-workbench-and-a-notebook>create your workbench</a> <strong>before</strong> the pipeline server is ready, your workbench will not be able to submit pipelines to it.</p> <p>If you have waited <strong>more than 5 minutes</strong>, and the pipeline server configuration does not complete, you can delete the pipeline server and create it again.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-project-delete-pipeline-server.png data-desc-position=bottom><img alt="Delete pipeline server" src=../images/ds-project-delete-pipeline-server.png></a></p> </div> <p><strong>Verification</strong>:</p> <p>a. Navigate to the <strong>Pipelines</strong> tab for the project.</p> <p>b. Next to <strong>Import pipeline</strong>, click the action menu () and then select <strong>View pipeline server configuration</strong>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-project-pipeline-server-view.png data-desc-position=bottom><img alt="View pipeline server configuration menu" src=../images/ds-project-pipeline-server-view.png></a></p> <p>An information box opens and displays the object storage connection information for the pipeline server. as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-project-pipeline-server-pop-up.png data-desc-position=bottom><img alt="View pipeline server configuration" src=../images/ds-project-pipeline-server-pop-up.png></a></p> <h3 id=3-creating-a-workbench-and-a-notebook>3. Creating a workbench and a notebook</h3> <h4 id=creating-a-workbench-and-selecting-a-notebook-image>Creating a workbench and selecting a notebook image</h4> <p><strong>Procedure</strong>:</p> <p>Prepare your Jupyter notebook server for using a <strong>GPU</strong>, you need to have:</p> <ul> <li>Select the correct data science project and create workbench, see <a href=../../data-science-project/using-projects-the-rhoai/#populate-the-data-science-project-with-a-workbench>Populate the data science project</a> for more information.</li> </ul> <p>Please ensure that you start your Jupyter notebook server with options as depicted in the following configuration screen. This screen provides you with the opportunity to select a notebook image and configure its options, including the Accelerator and Number of accelerators (GPUs).</p> <p>Click <strong>Attach existing connections</strong> under the <strong>Connections</strong> section, and attach the <strong>"My Storage"</strong> connection that was set up previously to the workbench:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/attach-connection-to-workbench.png data-desc-position=bottom><img alt="Attach Existing Connection to the Workbench" src=../images/attach-connection-to-workbench.png></a></p> <p>Search and add "My Storage":</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/attach-existing-connection-2.png data-desc-position=bottom><img alt="Attach Existing Connection to the Workbench" src=../images/attach-existing-connection-2.png></a></p> <p>Click on "Attach" button:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/attach-my-storage.png data-desc-position=bottom><img alt="Attach Connection to the Workbench" src=../images/attach-my-storage.png></a></p> <p>The final workbench setup, before clicking the <strong>Create workbench</strong> button, should look like this:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/fraud-detection-workbench.png data-desc-position=bottom><img alt="Fraud detection Workbench Information" src=../images/fraud-detection-workbench.png></a></p> <p>For our example project, let's name it "Fraud detection". We'll select the <strong>TensorFlow</strong> image with Recommended Version (selected by default), choose a <strong>Deployment size</strong> of <strong>Small</strong>, choose <strong>Accelerator</strong> of <strong>NVIDIA V100 GPU</strong>, <strong>Number of accelerators</strong> as <strong>1</strong>, and allocate a <strong>Cluster storage</strong> space of <strong>20GB</strong> (Selected By Default).</p> <div class="admonition info"> <p class=admonition-title>Running Workbench without GPU</p> <p>If you do not require GPU resources for your task, you can leave the <strong>Accelerator</strong> field set to its default <strong>None</strong> selection.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/workbench-without-gpu-accelerator.png data-desc-position=bottom><img alt="Workbench accelerator" src=../images/workbench-without-gpu-accelerator.png></a></p> </div> <p><strong>Verification</strong>:</p> <p>If this procedure is successful, you have started your Jupyter notebook server. When your workbench is ready and the status changes to <em>Running</em>, click the open icon (<a class=glightbox data-type=image data-width=auto data-height=auto href=../images/open.png data-desc-position=bottom><img alt="Open Workbench" src=../images/open.png></a>) next to your workbench's name, or click the workbench name directly to access your environment:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/open-fraud-detection-jupyter-lab.png data-desc-position=bottom><img alt="Open Fraud Detection JupyterLab Environment" src=../images/open-fraud-detection-jupyter-lab.png></a></p> <div class="admonition info"> <p class=admonition-title>Note</p> <p>If you made a mistake, you can edit the workbench to make changes. Please make sure you set the <em>Running</em> status of your workbench to <em>Stopped</em> prior clicking the action menu () at the end of the selected workbench row as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-project-workbench-list-edit.png data-desc-position=bottom><img alt="Workbench edit" src=../images/ds-project-workbench-list-edit.png></a></p> </div> <p>Once you have successfully authenticated by clicking "<strong>mss-keycloak</strong>" when prompted, as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/authenticate-user.png data-desc-position=bottom><img alt=Authenticate src=../images/authenticate-user.png></a></p> <p>Next, you should see the NERC RHOAI JupyterLab Web Interface, as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/jupyterlab_web_interface.png data-desc-position=bottom><img alt="RHOAI JupyterLab Web Interface" src=../images/jupyterlab_web_interface.png></a></p> <p>The Jupyter environment is currently empty. To begin, populate it with content using <em>Git</em>. On the left side of the navigation pane, locate the <strong>Name</strong> explorer panel, where you can create and manage your project directories.</p> <div class="admonition note"> <p class=admonition-title>Learn More About Working with Notebooks</p> <p>For detailed guidance on using notebooks on NERC RHOAI JupyterLab, please refer to <a href=../../data-science-project/explore-the-jupyterlab-environment/#working-with-notebooks>this documentation</a>.</p> </div> <h4 id=importing-the-tutorial-files-into-the-jupyter-environment>Importing the tutorial files into the Jupyter environment</h4> <p>Bring the content of this tutorial inside your Jupyter environment:</p> <p>On the toolbar, click the Git Clone icon:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/jupyter-git-icon.png data-desc-position=bottom><img alt="Git Clone icon" src=../images/jupyter-git-icon.png></a></p> <p>Enter the following <strong>Git Repo URL</strong>: <a href=https://github.com/nerc-project/fraud-detection>https://github.com/nerc-project/fraud-detection</a></p> <p>Check the Include submodules option, and then click Clone.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/clone-a-repo.png data-desc-position=bottom><img alt="Clone A Repo" src=../images/clone-a-repo.png></a></p> <p>In the file browser, double-click the newly-created <strong>fraud-detection</strong> folder.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/jupyter-file-browser.png data-desc-position=bottom><img alt="Jupyter file browser" src=../images/jupyter-file-browser.png></a></p> <p><strong>Verification</strong>:</p> <p>In the file browser, you should see the notebooks that you cloned from Git.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/jupyter-file-browser-2.png data-desc-position=bottom><img alt="Jupyter file browser - fraud-detection" src=../images/jupyter-file-browser-2.png></a></p> <h4 id=training-a-model>Training a model</h4> <p>In your Jupyter notebook environment, within the root folder path of <code>fraud-detection</code>, find the Jupyter notebook file <code>1_experiment_train.ipynb</code> that demonstrates how to train a model within the NERC RHOAI. Please follow the instructions directly in the notebook environment. The instructions guide you through some simple data exploration, experimentation, and model training tasks. To run it you need to double click it and execute the "Run" button to run all notebook cells at once.</p> <div class="admonition warning"> <p class=admonition-title>Very Important: Monitoring Your Model Training Process</p> <p>In the <code>1_experiment_train.ipynb</code> Jupyter notebook file, find the <strong>"Monitor the Training"</strong> section where you can use <a href=https://clear.ml/ >ClearML</a> to monitor your model training process.</p> <p>Please register your account at <a href=https://app.clear.ml/login>https://app.clear.ml/login</a>. After successfully registering your account, get <strong>Application API Credentials</strong> at: <a href=https://app.clear.ml/settings/workspace-configuration>https://app.clear.ml/settings/workspace-configuration</a>.</p> <p>Please update <code>CLEARML_API_ACCESS_KEY</code> and <code>CLEARML_API_SECRET_KEY</code> with your own ClearML Application API credentials, then uncomment the following code in the specified cell:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/monitor-the-training.png data-desc-position=bottom><img alt="Monitor the Training using ClearML" src=../images/monitor-the-training.png></a></p> </div> <p><strong>Verification</strong>:</p> <p>This process will take some time to complete. At the end, it will generate and save the model <code>model.onnx</code> within the <code>models/fraud/1/</code> folder path of <code>fraud-detection</code>.</p> <h5 id=adding-mlflow-to-training-code>Adding MLflow to Training Code</h5> <div class="admonition info"> <p class=admonition-title>What is MLflow?</p> <p><a href=../../../other-tools/mlflow/mlflow-overview/ >MLflow</a> is an open-source platform that helps manage the entire machine learning lifecycle, including experimentation, reproducibility, deployment, and model management. For more information about how to set up your own MLflow server, read <a href=../../../other-tools/mlflow/mlflow-server-setup/ >this user guide</a>.</p> </div> <p>In your Jupyter notebook environment, within the root folder path of <code>fraud-detection</code>, find the <code>mlflow</code> directory. It contains the following files:</p> <ul> <li> <p><code>model.ipynb</code>: This Jupyter notebook contains the end-to-end machine learning workflow, including data preprocessing, model training, and MLflow logging.</p> </li> <li> <p><code>requirements.txt</code>: This file lists all the Python package dependencies needed to run the code in <code>model.ipynb</code>.</p> </li> </ul> <p>Go back to your "Fraud detection" workbench and add a new <strong>Environment Variable</strong> to specify the Key/Value pairs related to the your MLflow server by clicking the action menu () at the end of your workbench.</p> <p>To add Environment variable please follow the following steps:</p> <p>i. Click on <strong>"Add another key / value pair"</strong> under existing "Environment variables" section:</p> <p>ii. Choose <strong>"Key / Value"</strong> and enter the following keys along with their corresponding values, which you have retrieved while "Editing connection":</p> <p><strong>Environment Variables</strong>:</p> <div class="language-text highlight"><pre><span></span><code>Key: MLFLOW_ROUTE
Value: https://mlflow-route-&lt;your-namespace&gt;.apps.shift.nerc.mghpcc.org
</code></pre></div> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/mlflow-route-environment-var.png data-desc-position=bottom><img alt="MLflow Route Environment Variable" src=../images/mlflow-route-environment-var.png></a></p> <p>Once you execute the provided <code>model.ipynb</code>, the training process logs model parameters, metrics, and artifacts to the MLflow tracking server. After training and tuning hyperparameters, the final model artifact is logged to the tracking server to record a link between the model, the input data it was trained on, and the code used to generate it.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/mlflow-logging.png data-desc-position=bottom><img alt="MLflow Logging" src=../images/mlflow-logging.png></a></p> <p>You'll be able to track the entire training lifecycle by navigating to your MLflow tracking server at: <code>https://mlflow-route-&lt;your-namespace&gt;.apps.shift.nerc.mghpcc.org</code>.</p> <h3 id=4-preparing-a-model-for-deployment>4. Preparing a model for deployment</h3> <p><strong>Procedure</strong>:</p> <p>In your JupyterLab environment, open the notebook file <code>2_save_model.ipynb</code>. Follow the instructions in the notebook to store the model and save it in the portable <strong>ONNX</strong> format.</p> <p><strong>Verification</strong>:</p> <p>After completing the notebook steps, verify that the <code>models/fraud/1/model.onnx</code> file is stored in the object storage corresponding to the <strong>My Storage</strong> data connection. Once saved, the model is now ready for use by your model server.</p> <h3 id=5-deploying-and-testing-a-model>5. Deploying and testing a model</h3> <h4 id=deploying-a-model>Deploying a model</h4> <p>Now that the model is stored and saved in the portable <strong>ONNX</strong> format, you can deploy it as an API using an OpenShift AI <strong>Model Server</strong>.</p> <p>OpenShift AI offers two options for model serving:</p> <ul> <li> <p>Single-model serving:</p> <p>Each model in the project is deployed on its own model server. This platform works well for large models or models that require dedicated resources.</p> </li> <li> <p>Multi-model serving:</p> <p>All models in the project are deployed on the same model server. This platform is suitable for sharing resources among deployed models.</p> </li> </ul> <div class="admonition note"> <p class=admonition-title>Learn More about Model Serving</p> <p>To learn more about how Model Serving works in the NERC RHOAI environment, <a href=../../data-science-project/model-serving-in-the-rhoai/#create-a-model-server>read this page</a>.</p> </div> <p>In this project, you are deploying only one model, so you can select either serving type. The steps for deploying the fraud detection model depend on the type of model serving platform you select:</p> <ul> <li> <p><a href=#deploying-a-model-on-a-single-model-server>Deploying a model on a single-model server</a></p> </li> <li> <p><a href=#deploying-a-model-on-a-multi-model-server>Deploying a model on a multi-model server</a></p> </li> </ul> <h5 id=deploying-a-model-on-a-single-model-server>Deploying a model on a single-model server</h5> <p>OpenShift AI single-model servers host only one model at a time. To deploy a model, you first create a new model server and then deploy your model to it.</p> <p><strong>Procedure</strong>:</p> <p>In the OpenShift AI dashboard, navigate to the data science project details page and click the <strong>Models</strong> tab.</p> <p>In the "Single-model serving platform" tile, click <strong>Select single-model</strong>.</p> <p>You will be able to deploy the model by clicking the <strong>Deploy model</strong> button, as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/single-model-serving.png data-desc-position=bottom><img alt="Single-model serving platform" src=../images/single-model-serving.png></a></p> <p>In the pop-up window that appears, depicted as shown below, you can specify the following details:</p> <p>For <strong>Model deployment name</strong>, type <strong>fraud</strong>.</p> <p>For <strong>Serving runtime</strong>, select <strong>OpenVINO Model Server</strong>.</p> <p>For <strong>Model framework (name - version)</strong>, select <strong>onnx-1</strong>.</p> <p>For <strong>Deployment mode</strong>, select <strong>Advanced</strong> (<em>selected by default</em>) - uses <em>Knative Serverless</em>.</p> <p>For <strong>Existing connection</strong>, select <strong>My Storage</strong>.</p> <p>Type the path that leads to the version folder that contains your model file: <strong>models/fraud</strong></p> <p>Leave the other fields with the default settings.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/deploy-model-form-sm.png data-desc-position=bottom><img alt="Deploy model form for single-model serving" src=../images/deploy-model-form-sm.png></a></p> <p>Click <strong>Deploy</strong>.</p> <p><strong>Verification</strong>:</p> <p>When you return to the Deployed models page, you will see your newly deployed model. Notice the loading symbol under the <strong>Status</strong> section. When the model has finished deploying, the status icon will be a <strong>green checkmark</strong> indicating the model deployment is complete as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-project-model-list-status-sm.png data-desc-position=bottom><img alt="Deployed model status" src=../images/ds-project-model-list-status-sm.png></a></p> <h5 id=deploying-a-model-on-a-multi-model-server>Deploying a model on a multi-model server</h5> <p>NERC RHOAI multi-model servers can host multiple models simultaneously. You can create a new model server and deploy your model to it.</p> <p><strong>Procedure</strong>:</p> <p>In the OpenShift AI dashboard, navigate to the data science project details page and click the <strong>Models</strong> tab.</p> <p>In the <strong>Multi-model serving platform</strong> tile, click <strong>Select multi-model</strong>.</p> <p>You will be able to create a new model server by clicking the <strong>Add model server</strong> button, as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/add-multi-model-server.png data-desc-position=bottom><img alt="Add A Model Server" src=../images/add-multi-model-server.png></a></p> <p>In the pop-up window that appears, depicted as shown below, you can specify the following details:</p> <p>For <strong>Model server name</strong>, type a name, for example <strong>Model Server</strong>.</p> <p>For <strong>Serving runtime</strong>, select <strong>OpenVINO Model Server</strong>.</p> <p>Leave the other fields with the default settings.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/create-model-server-form.png data-desc-position=bottom><img alt="Create model server form" src=../images/create-model-server-form.png></a></p> <p>Click <strong>Add</strong>.</p> <p>In the <strong>Models</strong> list, next to the new model server, click <strong>Deploy</strong> model.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-project-workbench-list-deploy.png data-desc-position=bottom><img alt="Create model server form" src=../images/ds-project-workbench-list-deploy.png></a></p> <p>In the form, provide the following values:</p> <p>For <strong>Model deployment name</strong>, type <strong>fraud</strong>.</p> <p>For <strong>Model framework (name - version)</strong>, select <strong>onnx-1</strong>.</p> <p>For <strong>Existing connection</strong>, select <strong>My Storage</strong>.</p> <p>Type the path that leads to the version folder that contains your model file: <strong>models/fraud</strong></p> <p>Leave the other fields with the default settings.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/deploy-model-form-mm.png data-desc-position=bottom><img alt="Deploy model form for multi-model serving" src=../images/deploy-model-form-mm.png></a></p> <p>Click <strong>Deploy</strong>.</p> <p><strong>Verification</strong>:</p> <p>When you return to the Deployed models page, you will see your newly deployed model. You should click on the 1 on the Deployed models tab to see details. Notice the loading symbol under the <strong>Status</strong> section. When the model has finished deploying, the status icon will be a <strong>green checkmark</strong> indicating the model deployment is complete as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-project-model-list-status-mm.png data-desc-position=bottom><img alt="Deployed model status" src=../images/ds-project-model-list-status-mm.png></a></p> <h4 id=testing-the-model-api>Testing the model API</h4> <p>Now that you've deployed the model, you can test its API endpoints.</p> <p><strong>Procedure</strong>:</p> <ul> <li> <p>In the OpenShift AI dashboard, navigate to the project details page and click the <strong>Models</strong> tab.</p> </li> <li> <p>Take note of the model's Inference endpoint URL. You need this information when you test the model API.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/deploy-model-inference-endpoints-fraud-mm.png data-desc-position=bottom><img alt="Deployed Multi-model Serving Inference Endpoints" src=../images/deploy-model-inference-endpoints-fraud-mm.png></a> </p> <p>The <strong>Inference endpoint</strong> field contains an <strong>Internal Service</strong> link, click the link to open a popup that shows the URL details, and then take note of the <strong>grpcUrl</strong> and <strong>restUrl</strong> values.</p> <div class="admonition note"> <p class=admonition-title>Single-model Serving Inference Endpoints</p> <p>In the case of single-model serving, the <strong>Inference endpoint</strong> field contains an <strong>Internal Service</strong> link. Click the link to open a popup that displays the URL details. Take note of the <strong>url</strong> value if you want to access the inference endpoint from within the cluster. If you are accessing the model from outside the cluster, be sure to also note the <strong>External</strong> value.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/deploy-model-inference-endpoints-fraud-sm.png data-desc-position=bottom><img alt="Deployed Single-model Serving Inference Endpoints" src=../images/deploy-model-inference-endpoints-fraud-sm.png></a></p> </div> </li> <li> <p>Return to the Jupyter notebook environment and test your new inference endpoints.</p> <p>If you deployed your model with the <strong>multi-model serving platform</strong>, follow the instructions in <code>3_rest_requests_multi_model.ipynb</code> to make a REST API call. Be sure to update the <em>rest_url</em> with your own <strong>restUrl</strong> value (as noted above). To make a gRPC API call, follow the instructions in <code>4_grpc_requests_multi_model.ipynb</code>, updating the <em>grpc_host</em> with your own <strong>grpcUrl</strong> value (as noted above).</p> <p>If you deployed your model with the <strong>single-model serving platform</strong>, follow the directions in <code>5_rest_requests_single_model.ipynb</code> to try a REST API call. Be sure to update the <em>rest_url</em> with your own <em>url</em> or <em>External</em> value (as noted above).</p> </li> </ul> <h3 id=6-implementing-pipelines>6. Implementing pipelines</h3> <div class="admonition question"> <p class=admonition-title>Important Note</p> <p>If you create your workbench before the pipeline server is ready, it won't be able to submit pipelines. If the pipeline server was configured <strong>after</strong> your workbench was created, you'll need to <strong>stop</strong> and then <strong>restart</strong> your workbench. Wait until the workbench status shows as <em>Running</em>.</p> </div> <h4 id=automating-workflows-with-data-science-pipelines>Automating workflows with data science pipelines</h4> <p>In previous sections of this tutorial, you used a notebook to train and save your model. Alternatively, you can automate these tasks using <strong>Red Hat OpenShift AI pipelines</strong>.</p> <p>Pipelines allow you to automate the execution of multiple notebooks and Python scripts. By using pipelines, you can run long training jobs or schedule model retraining without manually executing notebooks.</p> <p>In this section, you will create a simple pipeline using the <strong>GUI pipeline editor</strong>.</p> <p>This pipeline will:</p> <ul> <li> <p>Use the same notebook from the previous sections to train the model.</p> </li> <li> <p>Save the trained model to <strong>S3 storage</strong> bucket.</p> </li> </ul> <p>Your completed pipeline should resemble the one in the <code>6 Train Save.pipeline</code> file.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>To explore the <strong>pipeline editor</strong>, follow the steps in the next procedure to create your own pipeline. Alternatively, you can <strong>skip the procedure</strong> and instead feel free to run and use the provided <code>6 Train Save.pipeline</code> file.</p> </div> <h5 id=create-a-pipeline>Create a pipeline</h5> <p>i. Open your workbench's JupyterLab environment. If the launcher is not visible, click + to open it.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-launcher.png data-desc-position=bottom><img alt="Pipeline buttons" src=../images/wb-pipeline-launcher.png></a></p> <p>ii. Click <strong>Pipeline Editor</strong>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-editor-button.png data-desc-position=bottom><img alt="Pipeline Editor button" src=../images/wb-pipeline-editor-button.png></a></p> <p>You've created a blank pipeline.</p> <p>iii. Set the default runtime image for when you run your notebook or Python code.</p> <p>a. In the pipeline editor, click <strong>Open Panel</strong>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-panel-button-loc.png data-desc-position=bottom><img alt="Open Panel" src=../images/wb-pipeline-panel-button-loc.png></a></p> <p>b. Select the <strong>Pipeline Properties</strong> tab.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-properties-tab.png data-desc-position=bottom><img alt="Pipeline Properties Tab" src=../images/wb-pipeline-properties-tab.png></a></p> <p>c. In the <strong>Pipeline Properties</strong> panel, scroll down to <strong>Generic Node Defaults</strong> and <strong>Runtime Image</strong>. Set the value to <code>TensorFlow with CUDA and Python 3.11 (UBI9)</code>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-runtime-image.png data-desc-position=bottom><img alt="Pipeline Runtime Image" src=../images/wb-pipeline-runtime-image.png></a></p> <p>iv. <strong>Save</strong> the pipeline.</p> <h5 id=add-nodes-to-your-pipeline>Add nodes to your pipeline</h5> <p>Add some steps, or <strong>nodes</strong> in your pipeline. Your two nodes will use the <code>1_experiment_train.ipynb</code> and <code>2_save_model.ipynb</code> notebooks.</p> <p>i. From the file-browser panel, drag the <code>1_experiment_train.ipynb</code> and <code>2_save_model.ipynb</code> notebooks onto the pipeline canvas.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-drag-drop.png data-desc-position=bottom><img alt="Drag and Drop Notebooks" src=../images/wb-pipeline-drag-drop.png></a></p> <p>ii. Click the output port of <code>1_experiment_train.ipynb</code> and drag a connecting line to the input port of <code>2_save_model.ipynb</code>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-connect-nodes.png data-desc-position=bottom><img alt="Connect Nodes" src=../images/wb-pipeline-connect-nodes.png></a></p> <p>iii. <strong>Save</strong> the pipeline.</p> <h5 id=specify-the-training-file-as-a-dependency>Specify the training file as a dependency</h5> <p>Set node properties to specify the training file as a dependency.</p> <div class="admonition danger"> <p class=admonition-title>Very Important</p> <p>If you don't set this file dependency, the file won't be included in the node when it runs and the training job would fail.</p> </div> <p>i. Click the <code>1_experiment_train.ipynb</code> node.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-node-1.png data-desc-position=bottom><img alt="Select Node 1" src=../images/wb-pipeline-node-1.png></a></p> <p>ii. In the Properties panel, click the <strong>Node Properties</strong> tab.</p> <p>iii. Scroll down to the <strong>File Dependencies</strong> section and then click <strong>Add</strong>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-node-1-file-dep.png data-desc-position=bottom><img alt="Add File Dependency" src=../images/wb-pipeline-node-1-file-dep.png></a></p> <p>iv. Set the value to <code>data/*.csv</code> which contains the data to train your model.</p> <p>v. Select the <strong>Include Subdirectories</strong> option.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-node-1-file-dep-form.png data-desc-position=bottom><img alt="Set File Dependency Value" src=../images/wb-pipeline-node-1-file-dep-form.png></a></p> <p>vi. <strong>Save</strong> the pipeline.</p> <h5 id=create-and-store-the-onnx-formatted-output-file>Create and store the ONNX-formatted output file</h5> <p>In node 1, the notebook creates the <code>models/fraud/1/model.onnx</code> file. In node 2, the notebook uploads that file to the S3 storage bucket. You must set <code>models/fraud/1/model.onnx</code> file as the output file for both nodes.</p> <p>i. Select node 1.</p> <p>ii. Select the <strong>Node Properties</strong> tab.</p> <p>iii. Scroll down to the <strong>Output Files</strong> section, and then click <strong>Add</strong>.</p> <p>iv. Set the value to <code>models/fraud/1/model.onnx</code>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-node-1-file-output-form.png data-desc-position=bottom><img alt="Set file dependency value" src=../images/wb-pipeline-node-1-file-output-form.png></a></p> <p>v. Repeat steps ii-iv for node 2.</p> <p>vi. <strong>Save</strong> the pipeline.</p> <h5 id=configure-the-connection-to-the-s3-storage-bucket>Configure the connection to the S3 storage bucket</h5> <p>In node 2, the notebook uploads the model to the S3 storage bucket.</p> <p>You must set the S3 storage bucket keys by using the secret created by the <strong>My Storage</strong> connection that you set up in the <a href=#1-storing-data-with-connections>Storing data with connections</a> section of this tutorial.</p> <p>You can use this secret in your pipeline nodes without having to save the information in your pipeline code. This is important, for example, if you want to save your pipelines - without any secret keys - to source control.</p> <p>In this example, the secret is named <code>aws-connection-my-storage</code>.</p> <div class="admonition tip"> <p class=admonition-title>How to get the secret name?</p> <p>If you named your connection something other than <strong>"My Storage"</strong>, you can obtain the secret name in the OpenShift AI dashboard by hovering over the help (?) icon in the Connections tab.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/dsp-dc-secret-name.png data-desc-position=bottom><img alt="My Storage Secret Name" src=../images/dsp-dc-secret-name.png></a></p> <p><strong>Very Important:</strong> <em>Make sure to replace all instances of <code>aws-connection-my-storage</code> secret with your own.</em></p> </div> <p>The <code>aws-connection-my-storage</code> secret includes the following fields:</p> <div class="language-text highlight"><pre><span></span><code>AWS_ACCESS_KEY_ID

AWS_DEFAULT_REGION

AWS_S3_BUCKET

AWS_S3_ENDPOINT

AWS_SECRET_ACCESS_KEY
</code></pre></div> <p>You must set the secret name and key for each of these fields.</p> <p><strong>Procedure</strong>:</p> <p>i. Remove any pre-filled environment variables.</p> <p>a. Select node 2, and then select the Node Properties tab.</p> <p>Under <strong>Additional Properties</strong>, note that some environment variables have been pre-filled. The pipeline editor inferred that you need them from the notebook code.</p> <p>Since you don't want to save the value in your pipelines, remove all of these environment variables.</p> <p>b. Click <strong>Remove</strong> for each of the pre-filled environment variables.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-node-remove-env-var.png data-desc-position=bottom><img alt="Remove Env Var" src=../images/wb-pipeline-node-remove-env-var.png></a></p> <p>ii. Add the S3 bucket and keys by using the Kubernetes secret.</p> <p>a. Under <strong>Kubernetes Secrets</strong>, click <strong>Add</strong>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-add-kube-secret.png data-desc-position=bottom><img alt="Add Kubernetes Secret" src=../images/wb-pipeline-add-kube-secret.png></a></p> <p>b. Enter the following values and then click <strong>Add</strong>.</p> <p> <strong>Environment Variable</strong>: <em>AWS_ACCESS_KEY_ID</em></p> <ul> <li> <p><strong>Secret Name</strong>: <em>aws-connection-my-storage</em></p> </li> <li> <p><strong>Secret Key</strong>: <em>AWS_ACCESS_KEY_ID</em></p> </li> </ul> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-kube-secret-form.png data-desc-position=bottom><img alt="Secret Form" src=../images/wb-pipeline-kube-secret-form.png></a></p> <p>iii. Repeat <strong>Step ii</strong> for each of the following Kubernetes secrets:</p> <p> <strong>Environment Variable</strong>: <em>AWS_SECRET_ACCESS_KEY</em></p> <ul> <li> <p><strong>Secret Name</strong>: <em>aws-connection-my-storage</em></p> </li> <li> <p><strong>Secret Key</strong>: <em>AWS_SECRET_ACCESS_KEY</em></p> </li> </ul> <p> <strong>Environment Variable</strong>: AWS_S3_ENDPOINT</p> <ul> <li> <p><strong>Secret Name</strong>: aws-connection-my-storage</p> </li> <li> <p><strong>Secret Key</strong>: AWS_S3_ENDPOINT</p> </li> </ul> <p> <strong>Environment Variable</strong>: AWS_DEFAULT_REGION</p> <ul> <li> <p><strong>Secret Name</strong>: aws-connection-my-storage</p> </li> <li> <p><strong>Secret Key</strong>: AWS_DEFAULT_REGION</p> </li> </ul> <p> <strong>Environment Variable</strong>: AWS_S3_BUCKET</p> <ul> <li> <p><strong>Secret Name</strong>: aws-connection-my-storage</p> </li> <li> <p><strong>Secret Key</strong>: AWS_S3_BUCKET</p> </li> </ul> <p>iv.Select File -&gt; Save Pipeline As to save and rename the <em>.pipeline</em> file. For example, rename it to <strong>My Train Save.pipeline</strong>.</p> <h5 id=run-the-pipeline>Run the Pipeline</h5> <p>You can use your own newly created pipeline or the pipeline in the provided <code>6 Train Save.pipeline</code> file.</p> <p><strong>Procedure</strong>:</p> <p>i. Click the <strong>play</strong> button in the toolbar of the pipeline editor.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/wb-pipeline-run-button.png data-desc-position=bottom><img alt="Pipeline Run Button" src=../images/wb-pipeline-run-button.png></a></p> <p>ii. In the next popup:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/run-pipeline-ok.png data-desc-position=bottom><img alt="pipeline expanded" src=../images/run-pipeline-ok.png></a></p> <ul> <li> <p>Enter a name for your pipeline i.e. <code>My Train Save</code>.</p> </li> <li> <p>Verify that the <strong>Runtime Configuration</strong>: is set to <strong>Data Science Pipeline</strong>.</p> </li> <li> <p>Click <strong>OK</strong>.</p> </li> </ul> <div class="admonition failure"> <p class=admonition-title>Troubleshooting Help</p> <p>If you see an error message stating that "no runtime configuration for Data Science Pipeline is defined", you might have created your workbench before the pipeline server was available. If you configured the pipeline server after you created your workbench, you need to stop the workbench and then started your workbench.</p> </div> <p>iii. In the OpenShift AI dashboard, open your data science project and expand the newly created pipeline.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/dsp-pipeline-complete.png data-desc-position=bottom><img alt="New pipeline expanded" src=../images/dsp-pipeline-complete.png></a></p> <p>iv. Click <strong>View runs</strong>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/dsp-view-run.png data-desc-position=bottom><img alt="View runs for selected pipeline" src=../images/dsp-view-run.png></a></p> <p>v. Click your run and then view the pipeline run in progress.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/pipeline-run-complete.png data-desc-position=bottom><img alt="Pipeline run progress" src=../images/pipeline-run-complete.png></a></p> <p>The result should be a <code>models/fraud/1/model.onnx</code> file in your S3 bucket which you can serve, just like you did manually in the <a href=#4-preparing-a-model-for-deployment>Preparing a model for deployment</a> section.</p> <h4 id=running-a-data-science-pipeline-generated-from-python-code>Running a data science pipeline generated from Python code</h4> <p>In the previous section, you created a simple pipeline using the graphical pipeline editor. However, it's often preferable to define pipelines in code, allowing for version control and easier collaboration.</p> <p>The <a href=https://github.com/kubeflow/pipelines>Kubeflow pipelines (kfp)</a> SDK offers a Python API for building pipelines programmatically. You can install the SDK using the following command:</p> <div class="language-text highlight"><pre><span></span><code>pip install kfp
</code></pre></div> <p>With this package, you can write pipeline definitions in Python, compile them into YAML format, and then import the resulting YAML into OpenShift AI.</p> <div class="admonition info"> <p class=admonition-title>Note</p> <p>In OpenShift AI, the current version of kfp uses <strong>Argo Workflows</strong> as its execution backend.</p> </div> <p>The <a href=https://github.com/nerc-project/fraud-detection>GitHub repository</a> provides the files for you to view and upload.</p> <ol> <li> <p>Optionally, view the provided Python code in your JupyterLab environment by navigating to the <code>fraud-detection</code> project's <code>pipeline</code> directory. It contains the following files:</p> <ul> <li> <p><code>7_get_data_train_upload-tekton.yaml</code> is unused older version of pipeline YAML file using the <a href=https://tekton.dev/ >OpenShift Pipeline (Tekton)</a>.</p> </li> <li> <p><code>7_get_data_train_upload.py</code> is the main pipeline code.</p> </li> <li> <p><code>build.sh</code> is a script that builds the pipeline and creates the YAML file.</p> </li> </ul> <p>For your convenience, the output of the <code>build.sh</code> script is available in the top-level <code>fraud-detection</code> directory. The file is named <code>7_get_data_train_upload.yaml</code>, as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/pipeline-files-folder.png data-desc-position=bottom><img alt="Pipeline Files and Folder" src=../images/pipeline-files-folder.png></a></p> <div class="admonition info"> <p class=admonition-title>Note</p> <p>You can also run the <code>build.sh</code> script manually from your local terminal by executing the following command from the <code>pipeline</code> directory of the <code>fraud-detection</code> project:</p> <div class="language-text highlight"><pre><span></span><code>sh ./build.sh
</code></pre></div> </div> </li> <li> <p>Right-click the <code>7_get_data_train_upload.yaml</code> file and then click <strong>Download</strong>.</p> </li> <li> <p>Upload the <code>7_get_data_train_upload.yaml</code> file to OpenShift AI.</p> <p>i. In the OpenShift AI dashboard, navigate to your data science project page. Click the <strong>Pipelines</strong> tab and then click <strong>Import pipeline</strong>.</p> <p>ii. Enter values for <strong>Pipeline name</strong> and <strong>Pipeline description</strong>.</p> <p>iii. Click <strong>Upload</strong> and then select <code>7_get_data_train_upload.yaml</code> from your local files to upload the pipeline.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-pipeline-upload.png data-desc-position=bottom><img alt="Pipeline Upload" src=../images/ds-pipeline-upload.png></a></p> <p>iv. Click <strong>Import pipeline</strong> to import and save the pipeline.</p> <p>The pipeline shows in graphic view as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-pipeline-graph.png data-desc-position=bottom><img alt="Pipeline Graph" src=../images/ds-pipeline-graph.png></a></p> </li> <li> <p>Select <strong>Actions</strong> &gt;&gt; <strong>Create run</strong>.</p> </li> <li> <p>On the Create run page, provide the following values:</p> <p>i. For <strong>Experiment</strong>, leave the value as <code>Default</code>.</p> <p>ii. For <strong>Name</strong>, type any name, for example <code>Run 1</code>.</p> <p>iii. For <strong>Pipeline</strong>, select the pipeline that you uploaded.</p> <p>You can leave the other fields with their default values.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-create-pipeline-run.png data-desc-position=bottom><img alt="Create Pipeline Run" src=../images/ds-create-pipeline-run.png></a></p> </li> <li> <p>Click <strong>Create run</strong> to create the run.</p> <p>A new run starts immediately.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ds-pipeline-run.png data-desc-position=bottom><img alt="Create Pipeline Run" src=../images/ds-pipeline-run.png></a></p> </li> </ol> <h4 id=schedule-execution>Schedule execution</h4> <p>We can also <strong>schedule</strong> an execution so that the confidence check is executed at regular intervals.</p> <p>To do that:</p> <ul> <li> <p>Go back to the OpenShift AI dashboard, open your data science project</p> </li> <li> <p>Find the pipeline you just ran in the Pipelines tab</p> </li> <li> <p>Click the 3 dots at the very end of the pipeline row, and click "Create schedule".</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/create-schedule.png data-desc-position=bottom><img alt="Create schedule" src=../images/create-schedule.png></a></p> </li> <li> <p>On the next screen:</p> <p>i. keep the <strong>Experiment</strong> to <code>Default</code>,</p> <p>ii. Set a <strong>Name</strong>,</p> <p>iii. select a <code>Periodic</code> <strong>Trigger type</strong>,</p> <p>iv. run it every <strong>Day</strong> with Maximum concurrent runs of <strong>3</strong>.</p> <p>v. keep the <code>My Train Save</code> <strong>Pipeline</strong> and <strong>Version</strong> (<em>The Pipeline's name we set while running the Pipeline for the first time</em>)</p> <p>vi. and click <strong>Create schedule</strong>:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/dailyrun-3.png data-desc-position=bottom><img alt="Daily Pipeline Run Schedule" src=../images/dailyrun-3.png></a></p> <p>vii. This will shows the Graph view of the Scheduled Pipeline Run:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/dailyrun-scheduled.png data-desc-position=bottom><img alt="Scheduled Pipeline Run" src=../images/dailyrun-scheduled.png></a></p> <p>viii. In <strong>Data Science Pipelines</strong> -&gt; <strong>Runs</strong>, click the <strong>Schedules</strong> tab to verify that the <strong>Scheduled</strong> run is visible, as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/schedule-run.png data-desc-position=bottom><img alt="Schedule Run" src=../images/schedule-run.png></a></p> <p>It will run daily <strong>3</strong> runs, and will inform us if anything goes wrong with your training and saving the model process.</p> </li> </ul> <h2 id=deploy-the-model-application-on-nerc-openshift>Deploy the Model Application on NERC OpenShift</h2> <p>The <strong>model application</strong> includes a visual user interface (UI) powered by <a href=https://www.gradio.app/ >Gradio</a>, allowing users to interact with the <a href=#training-a-model>trained model</a>. This interface enables users to input transaction data and receive predictions on potential fraud, providing an intuitive way to test the model's performance. Additionally, example inputs are provided within the UI to help users understand the expected data format and interact with the model effectively.</p> <p>The model application code is located in the <code>application</code> folder within the root directory of <code>fraud-detection</code>. You can find this folder in the <strong>GitHub repository</strong> you cloned during the step: <a href=#importing-the-tutorial-files-into-the-jupyter-environment>Importing the tutorial files into the Jupyter environment</a>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/Model_Application_Folder_fraud-detection.png data-desc-position=bottom><img alt="Model Application Folder" src=../images/Model_Application_Folder_fraud-detection.png></a></p> <p>If you look inside it <code>model_application.py</code>, you will find two crucial lines of code for retrieving environment variables:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># Get a few environment variables. These are so we:</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=c1># - Know what endpoint we should request</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=c1># - Set server name and port for Gradio</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=n>MODEL_NAME</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>"MODEL_NAME"</span><span class=p>,</span> <span class=s2>"fraud"</span><span class=p>)</span>   <span class=o>&lt;----------</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=n>REST_URL</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>"INFERENCE_ENDPOINT"</span><span class=p>)</span>   <span class=o>&lt;----------</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=n>INFER_URL</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=n>REST_URL</span><span class=si>}</span><span class=s2>/v2/models/</span><span class=si>{</span><span class=n>MODEL_NAME</span><span class=si>}</span><span class=s2>/infer"</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=o>...</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>    <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>INFER_URL</span><span class=p>,</span> <span class=n>json</span><span class=o>=</span><span class=n>payload</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>    <span class=o>&lt;----------</span>
</span></code></pre></div> <p>This is how you send a request to the NERC RHOAI Model Server with the data that you want it to process for a prediction.</p> <p>We will deploy the application on OpenShift by linking it to the <a href=https://github.com/nerc-project/fraud-detection>GitHub repository</a>. OpenShift will fetch the repository, build a container image using the <strong>Dockerfile</strong>, and publish it automatically.</p> <p>To accomplish this, from the OpenShift AI dashboard, navigate to the OpenShift Web Console:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/the-nerc-openshift-web-console-link.png data-desc-position=bottom><img alt="The NERC OpenShift Web Console Link" src=../images/the-nerc-openshift-web-console-link.png></a></p> <p>From your NERC's OpenShift Web Console, navigate to your project corresponding to the NERC RHOAI Data Science Project and select the "Import from Git" button, represented by the "+" icon in the top navigation bar as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/Import_from_Git.png data-desc-position=bottom><img alt="Import from Git" src=../images/Import_from_Git.png></a></p> <p><strong>Alternatively</strong>, navigate to the <strong>Topology</strong> page under <strong>Workloads</strong>. Right-click on the page and select the "Import from Git" option from the <strong>Add to Project</strong> menu as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/Import_from_Git-right-click.png data-desc-position=bottom><img alt="Import from Git - Right-click" src=../images/Import_from_Git-right-click.png></a></p> <p>In the "Git Repo URL" enter: <code>https://github.com/nerc-project/fraud-detection</code> (this is the same repository you <a href=#importing-the-tutorial-files-into-the-jupyter-environment>pulled into RHOAI earlier</a>). Then press "Show advanced Git options" and set "Context dir" to "/application" where the application <strong>Dockerfile</strong> is located as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/import_fraud_detection_git_repo.png data-desc-position=bottom><img alt="Import Git Repo With Dockerfile" src=../images/import_fraud_detection_git_repo.png></a></p> <p>At the <strong>General</strong> section, select "Create application" option under <strong>Application</strong> and then give unique <strong>Application name</strong> i.e. <code>fraud-detection-application</code> and also <strong>Name</strong> i.e. <code>fraud-detection-application</code> as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/general-fraud-detection-application-info.png data-desc-position=bottom><img alt="General Application Information" src=../images/general-fraud-detection-application-info.png></a></p> <p>Finally, at the <strong>Deploy</strong> section, press "Show advanced Deployment option".</p> <p>Set these values in the <strong>Environment variables (runtime only)</strong> fields:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/deploy-fraud-detection-advance-option.png data-desc-position=bottom><img alt="Deployment Options" src=../images/deploy-fraud-detection-advance-option.png></a></p> <p><strong>Name</strong>: <em>MODEL_NAME</em></p> <p><strong>Value</strong>: From the RHOAI projects interface (<a href=#testing-the-model-api>from the previous section</a>), copy the <strong>Model name</strong> value. For example: <code>fraud</code>.</p> <p><strong>Name</strong>: <em>INFERENCE_ENDPOINT</em></p> <p><strong>Value</strong>: From the RHOAI projects interface (<a href=#testing-the-model-api>from the previous section</a>), copy the <strong>restUrl</strong> value. For example: <code>http://modelmesh-serving.&lt;your-namespace&gt;:8008</code>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/deploy-model-inference-endpoints-fraud-mm.png data-desc-position=bottom><img alt="Deployed Model Serving Inference Endpoints" src=../images/deploy-model-inference-endpoints-fraud-mm.png></a></p> <p>Your full settings page should look something like this:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/Import_from_Git_fraud_detection-settings.png data-desc-position=bottom><img alt="Import from Git Settings" src=../images/Import_from_Git_fraud_detection-settings.png></a></p> <div class="admonition note"> <p class=admonition-title>Target Port</p> <p>Under "Advanced options," make sure to set the <strong>Target Port</strong> to <strong>8080</strong>, which corresponds to the exposed port in the application's <a href=https://github.com/nerc-project/fraud-detection/blob/main/application/Dockerfile#L14>Dockerfile</a>.</p> </div> <p>Press <strong>Create</strong> to start deploying the application.</p> <p>You should now see a new object is added in your topology map for the application that you just added. When the circle of your deployment turns dark blue it means that it has finished deploying.</p> <p>If you want more details on how the deployment is going, you can press the circle and look at <strong>Resources</strong> in the right menu that opens up. There you can see how the build is going and what's happening to the pod.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/fraud_detection_deployment_resources.png data-desc-position=bottom><img alt="Fraud Detection Deployment Resources" src=../images/fraud_detection_deployment_resources.png></a></p> <p>The application will be ready when the build is complete and the pod is "Running".</p> <p>When the application has been deployed successfully, you can either open the application URL using the <strong>Open URL</strong> icon as shown below or you can naviate to the route URL by navigating to the "Routes" section under the <em>Location</em> path as shown below:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/fraud-detection-application_deployed.png data-desc-position=bottom><img alt="Application deployed" src=../images/fraud-detection-application_deployed.png></a></p> <p>This will open the application interface in a new tab.</p> <p>Congratulations, you now have an application running your AI model!</p> <p>Try entering a few values and click "Submit" to see if it predicts it as a credit fraud or not. You can select one of the example rows at the bottom of the application page, this will auto-populate the values to the form.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/gradio_application_interface.png data-desc-position=bottom><img alt="Predict Credit Card Fraud App Gradio Interface" src=../images/gradio_application_interface.png></a></p> <hr> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 25, 2026 15:02:40 UTC">February 25, 2026</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class=md-footer> <aside class=footer-left> <a href=http://www.bu.edu/tech/services/research/ title="Boston University" target=_blank> <img alt="Boston University Logo" src=https://nerc-project.github.io/nerc-docs/assets/images/boston-university-logo.png> </a> </aside> <aside class=footer-center> <a href=http://rc.fas.harvard.edu title="Harvard University" target=_blank> <img alt="Harvard University Logo" src=https://nerc-project.github.io/nerc-docs/assets/images/harvard-university_logo.png> </a> </aside> <aside class=footer-center> <a href=https://www.mghpcc.org/ title=MGHPCC target=_blank> <img alt="MGHPCC Logo" src=https://nerc-project.github.io/nerc-docs/assets/images/MGHPCC_logo.png> </a> </aside> <aside class=footer-right> <a href=https://massopen.cloud/ title="MOC Alliance" target=_blank> <img alt="MOC Alliance" src=https://massopen.cloud/wp-content/uploads/2022/07/MOCwordmark_RGB_small.png style="width: 80%"> </a> </aside> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../../..", "features": ["content.action.edit", "content.code.copy", "content.code.annotate", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.sections", "navigation.indexes", "navigation.top", "navigation.path", "search.highlight", "search.share", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>