<!DOCTYPE html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="NERC Documentation"><meta name=author content=NERC><link href=https://nerc-project.github.io/nerc-docs/openstack/persistent-storage/mount-the-object-storage/ rel=canonical><link href=../object-storage/ rel=prev><link href=../../data-transfer/data-transfer-from-to-vm/ rel=next><link rel=icon href=../../../assets/images/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.3"><title>New England Research Cloud(NERC)</title><link rel=stylesheet href=../../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><script src=../../../assets/javascripts/glightbox.min.js></script><style id=glightbox-style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#mount-the-object-storage-to-an-instance class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <div class=parent> <div class=maintain> <div> Upcoming NERC system maintenance and upgrade </div> <div> (Tuesday, March 10, 2026 8:00 AM - 5:00 PM) <a style="color: #00efff" href=https://nerc.mghpcc.org/event/nerc-system-maintenance-20260310/ target=_blank>[Event Details]</a> </div> </div> <!-- <div class="upgrade">
    </div> --> <div class=child> <iframe src=https://nerc.instatus.com/embed-status/light-sm width=230 height=52 frameborder=0 scrolling=no style="border: none"></iframe> </div> </div> </div> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="NERC Documentation" class="md-header__button md-logo" aria-label="NERC Documentation" data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> NERC Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Mount The Object Storage </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"></path></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/nerc-project/nerc-docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class=md-source__repository> nerc-project/nerc-docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="NERC Documentation" class="md-nav__button md-logo" aria-label="NERC Documentation" data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> NERC Documentation </label> <div class=md-nav__source> <a href=https://github.com/nerc-project/nerc-docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class=md-source__repository> nerc-project/nerc-docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../../get-started/ class="md-nav__link "> <span class=md-ellipsis> Getting Started </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Cost &amp; Billing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Cost &amp; Billing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../get-started/cost-billing/how-pricing-works/ class=md-nav__link> <span class=md-ellipsis> How does NERC pricing work? </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/pricing-for-bare-metal-machines/ class=md-nav__link> <span class=md-ellipsis> Pricing for Bare Metal Machines on NERC </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/nerc-pricing-calculator/ class=md-nav__link> <span class=md-ellipsis> NERC Pricing Calculator </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_4> <label class=md-nav__link for=__nav_3_2_4 id=__nav_3_2_4_label tabindex=0> <span class=md-ellipsis> Billing Process </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_4> <span class="md-nav__icon md-icon"></span> Billing Process </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../get-started/cost-billing/billing-process-for-my-institution/ class=md-nav__link> <span class=md-ellipsis> Billing Process for My Institution </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/billing-process-for-harvard/ class=md-nav__link> <span class=md-ellipsis> Billing Process for Harvard University </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/billing-process-for-bu/ class=md-nav__link> <span class=md-ellipsis> Billing Process for Boston University </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../get-started/cost-billing/billing-faqs/ class=md-nav__link> <span class=md-ellipsis> Billing FAQs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../get-started/user-onboarding-on-NERC/ class=md-nav__link> <span class=md-ellipsis> User Onboarding Process </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/create-a-user-portal-account/ class=md-nav__link> <span class=md-ellipsis> How to Create a User Account </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> How to Get An Allocation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> How to Get An Allocation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../get-started/allocation/coldfront/ class=md-nav__link> <span class=md-ellipsis> What is NERC's ColdFront? </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/adding-a-project/ class=md-nav__link> <span class=md-ellipsis> A New Project Creation Process </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/manage-users-to-a-project/ class=md-nav__link> <span class=md-ellipsis> Managing Users in the Project </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/requesting-an-allocation/ class=md-nav__link> <span class=md-ellipsis> How to request a new Resource Allocation </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/allocation-change-request/ class=md-nav__link> <span class=md-ellipsis> Request change to Resource Allocation to an existing project </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/adding-a-new-allocation/ class=md-nav__link> <span class=md-ellipsis> Adding a new Resource Allocation to the project </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/managing-users-to-an-allocation/ class=md-nav__link> <span class=md-ellipsis> Managing Users in the Project Resource Allocation </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/project-and-allocation-review/ class=md-nav__link> <span class=md-ellipsis> Project and Individual Allocation Annual Review Process </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/archiving-a-project/ class=md-nav__link> <span class=md-ellipsis> Archiving an Existing Project </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/allocation/allocation-details/ class=md-nav__link> <span class=md-ellipsis> Allocation details </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> Security Best Practices for the NERC Users </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Security Best Practices for the NERC Users </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../get-started/best-practices/best-practices/ class=md-nav__link> <span class=md-ellipsis> Quick Guide and Best Practices </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/best-practices/best-practices-for-my-institution/ class=md-nav__link> <span class=md-ellipsis> Best Practices for My Institution </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/best-practices/best-practices-for-harvard/ class=md-nav__link> <span class=md-ellipsis> Best Practices for Harvard University </span> </a> </li> <li class=md-nav__item> <a href=../../../get-started/best-practices/best-practices-for-bu/ class=md-nav__link> <span class=md-ellipsis> Best Practices for Boston University </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> OpenStack </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> OpenStack </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Logging In </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Logging In </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../logging-in/access-the-openstack-dashboard/ class=md-nav__link> <span class=md-ellipsis> Access the OpenStack Dashboard </span> </a> </li> <li class=md-nav__item> <a href=../../logging-in/dashboard-overview/ class=md-nav__link> <span class=md-ellipsis> Dashboard Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Access and Security </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Access and Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../access-and-security/security-groups/ class=md-nav__link> <span class=md-ellipsis> Security Groups </span> </a> </li> <li class=md-nav__item> <a href=../../access-and-security/create-a-key-pair/ class=md-nav__link> <span class=md-ellipsis> Create a Key Pair </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Create &amp; Connect to the VM </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Create &amp; Connect to the VM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../create-and-connect-to-the-VM/launch-a-VM/ class=md-nav__link> <span class=md-ellipsis> Launch a VM </span> </a> </li> <li class=md-nav__item> <a href=../../create-and-connect-to-the-VM/create-a-Windows-VM/ class=md-nav__link> <span class=md-ellipsis> Create a Windows VM </span> </a> </li> <li class=md-nav__item> <a href=../../create-and-connect-to-the-VM/images/ class=md-nav__link> <span class=md-ellipsis> Available Images </span> </a> </li> <li class=md-nav__item> <a href=../../create-and-connect-to-the-VM/flavors/ class=md-nav__link> <span class=md-ellipsis> Available NOVA Flavors </span> </a> </li> <li class=md-nav__item> <a href=../../create-and-connect-to-the-VM/assign-a-floating-IP/ class=md-nav__link> <span class=md-ellipsis> Assign a Floating IP </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_6> <div class="md-nav__link md-nav__container"> <a href=../../create-and-connect-to-the-VM/bastion-host-based-ssh/ class="md-nav__link "> <span class=md-ellipsis> Connect to the VM </span> </a> <label class="md-nav__link " for=__nav_4_4_6 id=__nav_4_4_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_6> <span class="md-nav__icon md-icon"></span> Connect to the VM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../create-and-connect-to-the-VM/ssh-to-the-VM/ class=md-nav__link> <span class=md-ellipsis> SSH to the VM </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_6_3> <div class="md-nav__link md-nav__container"> <a href=../../create-and-connect-to-the-VM/using-vpn/wireguard/ class="md-nav__link "> <span class=md-ellipsis> Using VPN </span> </a> <label class="md-nav__link " for=__nav_4_4_6_3 id=__nav_4_4_6_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_4_4_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_6_3> <span class="md-nav__icon md-icon"></span> Using VPN </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_6_3_1> <div class="md-nav__link md-nav__container"> <a href=../../create-and-connect-to-the-VM/using-vpn/openvpn/ class="md-nav__link "> <span class=md-ellipsis> OpenVPN </span> </a> <label class="md-nav__link " for=__nav_4_4_6_3_1 id=__nav_4_4_6_3_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_4_4_6_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_6_3_1> <span class="md-nav__icon md-icon"></span> OpenVPN </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../create-and-connect-to-the-VM/using-vpn/openvpn/openvpn_gui_for_windows/ class=md-nav__link> <span class=md-ellipsis> OpenVPN GUI for Windows </span> </a> </li> <li class=md-nav__item> <a href=../../create-and-connect-to-the-VM/using-vpn/openvpn/tunnelblick_for_macos/ class=md-nav__link> <span class=md-ellipsis> Tunnelblick for MacOS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../create-and-connect-to-the-VM/using-vpn/sshuttle/ class=md-nav__link> <span class=md-ellipsis> sshuttle </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> OpenStack CLI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> OpenStack CLI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../openstack-cli/openstack-CLI/ class=md-nav__link> <span class=md-ellipsis> OpenStack CLI </span> </a> </li> <li class=md-nav__item> <a href=../../openstack-cli/launch-a-VM-using-openstack-CLI/ class=md-nav__link> <span class=md-ellipsis> Launch a VM using OpenStack CLI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6 checked> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> Persistent Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=true> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Persistent Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6_1> <label class=md-nav__link for=__nav_4_6_1 id=__nav_4_6_1_label tabindex=0> <span class=md-ellipsis> Block Storage/ Volumes/ Cinder </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6_1> <span class="md-nav__icon md-icon"></span> Block Storage/ Volumes/ Cinder </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../volumes/ class=md-nav__link> <span class=md-ellipsis> Block Storage/ Volumes/ Cinder </span> </a> </li> <li class=md-nav__item> <a href=../create-an-empty-volume/ class=md-nav__link> <span class=md-ellipsis> Create An Empty Volume </span> </a> </li> <li class=md-nav__item> <a href=../attach-the-volume-to-an-instance/ class=md-nav__link> <span class=md-ellipsis> Attach The Volume To An Instance </span> </a> </li> <li class=md-nav__item> <a href=../format-and-mount-the-volume/ class=md-nav__link> <span class=md-ellipsis> Format And Mount The Volume </span> </a> </li> <li class=md-nav__item> <a href=../detach-a-volume/ class=md-nav__link> <span class=md-ellipsis> Detach a Volume </span> </a> </li> <li class=md-nav__item> <a href=../delete-volumes/ class=md-nav__link> <span class=md-ellipsis> Delete Volumes </span> </a> </li> <li class=md-nav__item> <a href=../extending-volume/ class=md-nav__link> <span class=md-ellipsis> Extending Volume </span> </a> </li> <li class=md-nav__item> <a href=../transfer-a-volume/ class=md-nav__link> <span class=md-ellipsis> Transfer a Volume </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6_2 checked> <label class=md-nav__link for=__nav_4_6_2 id=__nav_4_6_2_label tabindex=0> <span class=md-ellipsis> Object Storage/ Swift </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_6_2_label aria-expanded=true> <label class=md-nav__title for=__nav_4_6_2> <span class="md-nav__icon md-icon"></span> Object Storage/ Swift </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../object-storage/ class=md-nav__link> <span class=md-ellipsis> Object Storage/ Swift </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Mount The Object Storage </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Mount The Object Storage </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#pre-requisite class=md-nav__link> <span class=md-ellipsis> Pre-requisite </span> </a> </li> <li class=md-nav__item> <a href=#1-using-mountpoint-for-amazon-s3 class=md-nav__link> <span class=md-ellipsis> 1. Using Mountpoint for Amazon S3 </span> </a> <nav class=md-nav aria-label="1. Using Mountpoint for Amazon S3"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-mountpoint class=md-nav__link> <span class=md-ellipsis> Install Mountpoint </span> </a> </li> <li class=md-nav__item> <a href=#configuring-and-using-mountpoint class=md-nav__link> <span class=md-ellipsis> Configuring and using Mountpoint </span> </a> </li> <li class=md-nav__item> <a href=#create-a-local-directory-as-a-mount-point class=md-nav__link> <span class=md-ellipsis> Create a local directory as a mount point </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-locally-using-mountpoint class=md-nav__link> <span class=md-ellipsis> Mount the Container locally using Mountpoint </span> </a> </li> <li class=md-nav__item> <a href=#automatically-mounting-an-s3-bucket-at-boot class=md-nav__link> <span class=md-ellipsis> Automatically mounting an S3 bucket at boot </span> </a> <nav class=md-nav aria-label="Automatically mounting an S3 bucket at boot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-a-cron-job class=md-nav__link> <span class=md-ellipsis> Using a Cron Job </span> </a> </li> <li class=md-nav__item> <a href=#using-a-service-manager-like-systemd-by-creating-systemd-unit-file class=md-nav__link> <span class=md-ellipsis> Using a service manager like systemd by creating systemd unit file </span> </a> <nav class=md-nav aria-label="Using a service manager like systemd by creating systemd unit file"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-systemd-unit-file-ie-mountpoint-s3service class=md-nav__link> <span class=md-ellipsis> Create systemd unit file i.e. mountpoint-s3.service </span> </a> </li> <li class=md-nav__item> <a href=#launch-the-service class=md-nav__link> <span class=md-ellipsis> Launch the service </span> </a> </li> <li class=md-nav__item> <a href=#stopping-the-service class=md-nav__link> <span class=md-ellipsis> Stopping the service </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-using-goofys class=md-nav__link> <span class=md-ellipsis> 2. Using Goofys </span> </a> <nav class=md-nav aria-label="2. Using Goofys"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-goofys class=md-nav__link> <span class=md-ellipsis> Install goofys </span> </a> </li> <li class=md-nav__item> <a href=#provide-credentials-to-configure-goofys class=md-nav__link> <span class=md-ellipsis> Provide credentials to configure goofys </span> </a> </li> <li class=md-nav__item> <a href=#create-a-local-directory-as-a-mount-folder class=md-nav__link> <span class=md-ellipsis> Create a local directory as a mount folder </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-locally-using-goofys class=md-nav__link> <span class=md-ellipsis> Mount the Container locally using goofys </span> </a> </li> <li class=md-nav__item> <a href=#mounting-on-system-startup class=md-nav__link> <span class=md-ellipsis> Mounting on system startup </span> </a> <nav class=md-nav aria-label="Mounting on system startup"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configure-mounting-of-the-bucket1-container class=md-nav__link> <span class=md-ellipsis> Configure mounting of the bucket1 container </span> </a> <nav class=md-nav aria-label="Configure mounting of the bucket1 container"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-1-mount-the-repository-automatically-on-system-startup class=md-nav__link> <span class=md-ellipsis> Method 1: Mount the repository automatically on system startup </span> </a> </li> <li class=md-nav__item> <a href=#method-2-do-not-mount-the-repository-automatically-on-system-startup class=md-nav__link> <span class=md-ellipsis> Method 2: Do NOT mount the repository automatically on system startup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-using-s3fs class=md-nav__link> <span class=md-ellipsis> 3. Using S3FS </span> </a> <nav class=md-nav aria-label="3. Using S3FS"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-s3fs class=md-nav__link> <span class=md-ellipsis> Install S3FS </span> </a> </li> <li class=md-nav__item> <a href=#create-a-file-which-will-store-the-s3-credentials class=md-nav__link> <span class=md-ellipsis> Create a file which will store the S3 Credentials </span> </a> </li> <li class=md-nav__item> <a href=#create-a-container-in-the-nerc-projects-object-storage class=md-nav__link> <span class=md-ellipsis> Create a Container in the NERC Project's Object storage </span> </a> </li> <li class=md-nav__item> <a href=#create-a-local-directory-as-a-mount-point-in-your-vm class=md-nav__link> <span class=md-ellipsis> Create a local directory as a mount point in your VM </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-locally-using-s3fs class=md-nav__link> <span class=md-ellipsis> Mount the Container locally using s3fs </span> </a> </li> <li class=md-nav__item> <a href=#unmount-the-local-mount-point class=md-nav__link> <span class=md-ellipsis> Unmount the local mount point </span> </a> </li> <li class=md-nav__item> <a href=#configure-mounting-of-the-bucket1-repository class=md-nav__link> <span class=md-ellipsis> Configure mounting of the bucket1 repository </span> </a> <nav class=md-nav aria-label="Configure mounting of the bucket1 repository"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-1-mount-the-repository-automatically-on-startup class=md-nav__link> <span class=md-ellipsis> Method 1: Mount the repository automatically on startup </span> </a> </li> <li class=md-nav__item> <a href=#method-2-do-not-mount-the-repository-automatically-on-startup class=md-nav__link> <span class=md-ellipsis> Method 2: Do NOT mount the repository automatically on startup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-using-rclone class=md-nav__link> <span class=md-ellipsis> 4. Using Rclone </span> </a> <nav class=md-nav aria-label="4. Using Rclone"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installing-rclone class=md-nav__link> <span class=md-ellipsis> Installing Rclone </span> </a> </li> <li class=md-nav__item> <a href=#configuring-rclone class=md-nav__link> <span class=md-ellipsis> Configuring Rclone </span> </a> </li> <li class=md-nav__item> <a href=#listing-the-containers-and-contents-of-a-container class=md-nav__link> <span class=md-ellipsis> Listing the Containers and Contents of a Container </span> </a> </li> <li class=md-nav__item> <a href=#create-a-mount-point-directory class=md-nav__link> <span class=md-ellipsis> Create a mount point directory </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-with-rclone class=md-nav__link> <span class=md-ellipsis> Mount the container with Rclone </span> </a> <nav class=md-nav aria-label="Mount the container with Rclone"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-systemd-unit-file-ie-rclone-mountservice class=md-nav__link> <span class=md-ellipsis> Create systemd unit file i.e. rclone-mount.service </span> </a> </li> <li class=md-nav__item> <a href=#launch-the-service-using-a-service-manager class=md-nav__link> <span class=md-ellipsis> Launch the service using a service manager </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5-using-juicefs class=md-nav__link> <span class=md-ellipsis> 5. Using JuiceFS </span> </a> <nav class=md-nav aria-label="5. Using JuiceFS"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#preparation class=md-nav__link> <span class=md-ellipsis> Preparation </span> </a> <nav class=md-nav aria-label=Preparation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installation-of-the-juicefs-client class=md-nav__link> <span class=md-ellipsis> Installation of the JuiceFS client </span> </a> </li> <li class=md-nav__item> <a href=#installing-and-configuring-redis-database class=md-nav__link> <span class=md-ellipsis> Installing and Configuring Redis database </span> </a> <nav class=md-nav aria-label="Installing and Configuring Redis database"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-a-redis-password class=md-nav__link> <span class=md-ellipsis> Configuring a Redis Password </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-authorizing-s3-access-using-juicefs-config class=md-nav__link> <span class=md-ellipsis> Setting authorizing S3 access using juicefs config </span> </a> </li> <li class=md-nav__item> <a href=#formatting-file-system class=md-nav__link> <span class=md-ellipsis> Formatting file system </span> </a> </li> <li class=md-nav__item> <a href=#mounting-file-system-manually class=md-nav__link> <span class=md-ellipsis> Mounting file system manually </span> </a> <nav class=md-nav aria-label="Mounting file system manually"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-a-local-directory-as-a-mount-point-folder class=md-nav__link> <span class=md-ellipsis> Create a local directory as a mount point folder </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-locally-using-juicefs class=md-nav__link> <span class=md-ellipsis> Mount the Container locally using juicefs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mount-juicefs-at-boot-time class=md-nav__link> <span class=md-ellipsis> Mount JuiceFS at Boot Time </span> </a> </li> <li class=md-nav__item> <a href=#automating-mounting-with-systemd-service-unit-file class=md-nav__link> <span class=md-ellipsis> Automating Mounting with systemd service unit file </span> </a> <nav class=md-nav aria-label="Automating Mounting with systemd service unit file"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#launch-the-service-as-daemon class=md-nav__link> <span class=md-ellipsis> Launch the service as daemon </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-synchronization class=md-nav__link> <span class=md-ellipsis> Data Synchronization </span> </a> <nav class=md-nav aria-label="Data Synchronization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#command-syntax class=md-nav__link> <span class=md-ellipsis> Command Syntax </span> </a> </li> <li class=md-nav__item> <a href=#synchronize-between-object-storage-and-juicefs class=md-nav__link> <span class=md-ellipsis> Synchronize between Object Storage and JuiceFS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#how-to-destroy-a-file-system class=md-nav__link> <span class=md-ellipsis> How to destroy a file system </span> </a> <nav class=md-nav aria-label="How to destroy a file system"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#find-the-uuid-of-existing-mount-file-system class=md-nav__link> <span class=md-ellipsis> Find the UUID of existing mount file system </span> </a> </li> <li class=md-nav__item> <a href=#destroy-a-file-system class=md-nav__link> <span class=md-ellipsis> Destroy a file system </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../data-transfer/data-transfer-from-to-vm/ class=md-nav__link> <span class=md-ellipsis> Data Transfer </span> </a> </li> <li class=md-nav__item> <a href=../../backup/backup-with-snapshots/ class=md-nav__link> <span class=md-ellipsis> Backup your instance &amp; data </span> </a> </li> <li class=md-nav__item> <a href=../../management/vm-management/ class=md-nav__link> <span class=md-ellipsis> VM Management </span> </a> </li> <li class=md-nav__item> <a href=../../decommission/decommission-openstack-resources/ class=md-nav__link> <span class=md-ellipsis> Decommission your OpenStack Resources </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11> <label class=md-nav__link for=__nav_4_11 id=__nav_4_11_label tabindex=0> <span class=md-ellipsis> Advanced Topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_11_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11> <span class="md-nav__icon md-icon"></span> Advanced Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_1> <label class=md-nav__link for=__nav_4_11_1 id=__nav_4_11_1_label tabindex=0> <span class=md-ellipsis> Setting Up Own Network </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_1> <span class="md-nav__icon md-icon"></span> Setting Up Own Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../advanced-openstack-topics/setting-up-a-network/set-up-a-private-network/ class=md-nav__link> <span class=md-ellipsis> Set up a Private Network </span> </a> </li> <li class=md-nav__item> <a href=../../advanced-openstack-topics/setting-up-a-network/create-a-router/ class=md-nav__link> <span class=md-ellipsis> Create a Router </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_2> <label class=md-nav__link for=__nav_4_11_2 id=__nav_4_11_2_label tabindex=0> <span class=md-ellipsis> Domain Name System </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_2> <span class="md-nav__icon md-icon"></span> Domain Name System </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../advanced-openstack-topics/domain-name-system/domain-names-for-your-vms/ class=md-nav__link> <span class=md-ellipsis> Set up Domain names for your VMs </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11_3> <label class=md-nav__link for=__nav_4_11_3 id=__nav_4_11_3_label tabindex=0> <span class=md-ellipsis> Terraform </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_11_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11_3> <span class="md-nav__icon md-icon"></span> Terraform </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../advanced-openstack-topics/terraform/terraform-on-NERC/ class=md-nav__link> <span class=md-ellipsis> Terraform on NERC </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../advanced-openstack-topics/python-sdk/python-SDK/ class=md-nav__link> <span class=md-ellipsis> Python SDK </span> </a> </li> <li class=md-nav__item> <a href=../../advanced-openstack-topics/setting-up-your-own-images/how-to-build-windows-image/ class=md-nav__link> <span class=md-ellipsis> Setting up custom images </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../../openshift/ class="md-nav__link "> <span class=md-ellipsis> OpenShift </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> OpenShift Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> OpenShift Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/get-started/openshift-overview/ class=md-nav__link> <span class=md-ellipsis> OpenShift Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> OpenShift Web Console </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> OpenShift Web Console </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/logging-in/access-the-openshift-web-console/ class=md-nav__link> <span class=md-ellipsis> Access the NERC's OpenShift Web Console </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/logging-in/web-console-overview/ class=md-nav__link> <span class=md-ellipsis> Web Console Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> OpenShift command-line interface (CLI) Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> OpenShift command-line interface (CLI) Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/logging-in/the-openshift-cli/ class=md-nav__link> <span class=md-ellipsis> OpenShift CLI Tools Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/logging-in/setup-the-openshift-cli/ class=md-nav__link> <span class=md-ellipsis> How to Setup the OpenShift CLI Tools </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> Creating Your First Application on OpenShift </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Creating Your First Application on OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/applications/creating-a-sample-application/ class=md-nav__link> <span class=md-ellipsis> Creating A Sample Application </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/applications/creating-your-own-developer-catalog-service/ class=md-nav__link> <span class=md-ellipsis> Creating Your Own Developer Catalog Service </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6 id=__nav_5_6_label tabindex=0> <span class=md-ellipsis> Editing Applications </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> Editing Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/applications/editing-applications/ class=md-nav__link> <span class=md-ellipsis> Editing your applications </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/applications/scaling-and-performance-guide/ class=md-nav__link> <span class=md-ellipsis> Scaling and Performance Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <label class=md-nav__link for=__nav_5_7 id=__nav_5_7_label tabindex=0> <span class=md-ellipsis> Serverless Computing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> Serverless Computing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/applications/understanding-openshift-serverless/ class=md-nav__link> <span class=md-ellipsis> Understanding OpenShift Serverless </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/applications/knative-serving/ class=md-nav__link> <span class=md-ellipsis> Knative Serving User Guide: Deploying and Managing Serverless Workloads </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../openshift/domain-name-system/domain-name-for-your-application/ class=md-nav__link> <span class=md-ellipsis> Set up Domain Name for Your Application </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9> <label class=md-nav__link for=__nav_5_9 id=__nav_5_9_label tabindex=0> <span class=md-ellipsis> GPUs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> GPUs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/gpus/intro-to-gpus-on-nerc-ocp/ class=md-nav__link> <span class=md-ellipsis> Introduction to GPUs on NERC OpenShift </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_10> <label class=md-nav__link for=__nav_5_10 id=__nav_5_10_label tabindex=0> <span class=md-ellipsis> Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/storage/storage-overview/ class=md-nav__link> <span class=md-ellipsis> Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/storage/minio/ class=md-nav__link> <span class=md-ellipsis> Minio </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift/storage/Rclone/ class=md-nav__link> <span class=md-ellipsis> Rclone </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_11> <label class=md-nav__link for=__nav_5_11 id=__nav_5_11_label tabindex=0> <span class=md-ellipsis> Deleting Applications </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_11_label aria-expanded=false> <label class=md-nav__title for=__nav_5_11> <span class="md-nav__icon md-icon"></span> Deleting Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift/applications/deleting-applications/ class=md-nav__link> <span class=md-ellipsis> Deleting your applications </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../openshift/decommission/decommission-openshift-resources/ class=md-nav__link> <span class=md-ellipsis> Decommission OpenShift Resources </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../../openshift-ai/ class="md-nav__link "> <span class=md-ellipsis> Red Hat OpenShift AI (RHOAI) </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Red Hat OpenShift AI (RHOAI) </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> NERC OpenShift AI Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> NERC OpenShift AI Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift-ai/get-started/rhoai-overview/ class=md-nav__link> <span class=md-ellipsis> NERC RHOAI Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> NERC OpenShift AI Dashboard </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> NERC OpenShift AI Dashboard </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift-ai/logging-in/access-the-rhoai-dashboard/ class=md-nav__link> <span class=md-ellipsis> Access the NERC's OpenShift AI dashboard </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift-ai/logging-in/the-rhoai-dashboard-overview/ class=md-nav__link> <span class=md-ellipsis> The NERC's OpenShift AI dashboard Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> Using Data Science Project in the NERC RHOAI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Using Data Science Project in the NERC RHOAI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift-ai/data-science-project/using-projects-the-rhoai/ class=md-nav__link> <span class=md-ellipsis> Using Your Data Science Project (DSP) </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift-ai/data-science-project/explore-the-jupyterlab-environment/ class=md-nav__link> <span class=md-ellipsis> Explore the JupyterLab Environment </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift-ai/data-science-project/model-serving-in-the-rhoai/ class=md-nav__link> <span class=md-ellipsis> Model Serving in the NERC RHOAI </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift-ai/data-science-project/testing-model-in-the-rhoai/ class=md-nav__link> <span class=md-ellipsis> Test the Model in the NERC RHOAI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> Other Example Projects </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Other Example Projects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/how-access-s3-data-then-download-and-analyze-it/ class=md-nav__link> <span class=md-ellipsis> How to access, download, and analyze data for S3 usage </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/configure-jupyter-notebook-use-gpus-aiml-modeling/ class=md-nav__link> <span class=md-ellipsis> Configure a Jupyter Notebook to use GPUs for AI/ML modeling </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5_3> <label class=md-nav__link for=__nav_6_5_3 id=__nav_6_5_3_label tabindex=0> <span class=md-ellipsis> Predictive &amp; Generative AI on NERC </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5_3> <span class="md-nav__icon md-icon"></span> Predictive &amp; Generative AI on NERC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/predictive-and-generative-AI/ class=md-nav__link> <span class=md-ellipsis> Predictive &amp; Generative AI (LLM &amp; RAG) in Action </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5_3_2> <label class=md-nav__link for=__nav_6_5_3_2 id=__nav_6_5_3_2_label tabindex=0> <span class=md-ellipsis> Predictive AI tutorial </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_6_5_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5_3_2> <span class="md-nav__icon md-icon"></span> Predictive AI tutorial </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/fraud-detection-predictive-ai-app/ class=md-nav__link> <span class=md-ellipsis> Credit Card Fraud Detection Application </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/object-detection-app-using-yolo5/ class=md-nav__link> <span class=md-ellipsis> Object Detection Application Using YOLOv5 Model </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5_3_3> <label class=md-nav__link for=__nav_6_5_3_3 id=__nav_6_5_3_3_label tabindex=0> <span class=md-ellipsis> Generative AI tutorial </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_6_5_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5_3_3> <span class="md-nav__icon md-icon"></span> Generative AI tutorial </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/LLM-chat/ class=md-nav__link> <span class=md-ellipsis> Large Language Model (LLM) - Chat </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/RAG-talk-with-your-pdf/ class=md-nav__link> <span class=md-ellipsis> Retrieval Augumented Generation (RAG) - Talk with your PDF </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/deploying-a-llama-model-with-kserve/ class=md-nav__link> <span class=md-ellipsis> Deploying a Llama model with KServe </span> </a> </li> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/serving-tgis-and-FLAN-T5-Model/ class=md-nav__link> <span class=md-ellipsis> Serving Text Generation Inference Service (TGIS) and FLAN-T5 Small Model </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../openshift-ai/other-projects/LLM-client-AnythingLLM/ class=md-nav__link> <span class=md-ellipsis> LLM Client - AnythingLLM </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../../../other-tools/ class="md-nav__link "> <span class=md-ellipsis> Other Tools On NERC </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Other Tools On NERC </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kubernetes/ class=md-nav__link> <span class=md-ellipsis> Kubernetes Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/comparisons/ class=md-nav__link> <span class=md-ellipsis> K8s Flavors Comparision </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_3> <label class=md-nav__link for=__nav_7_2_3 id=__nav_7_2_3_label tabindex=0> <span class=md-ellipsis> Development environment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_3> <span class="md-nav__icon md-icon"></span> Development environment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/minikube/ class=md-nav__link> <span class=md-ellipsis> Minikube </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kind/ class=md-nav__link> <span class=md-ellipsis> Kind </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/microk8s/ class=md-nav__link> <span class=md-ellipsis> MicroK8s </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_3_4> <label class=md-nav__link for=__nav_7_2_3_4 id=__nav_7_2_3_4_label tabindex=0> <span class=md-ellipsis> K3s </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_7_2_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_3_4> <span class="md-nav__icon md-icon"></span> K3s </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s/ class=md-nav__link> <span class=md-ellipsis> K3s </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s-ha-cluster/ class=md-nav__link> <span class=md-ellipsis> K3s with High Availibility(HA) setup </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s-using-k3sup/ class=md-nav__link> <span class=md-ellipsis> Multi-master HA K3s cluster using k3sup </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s-using-k3d/ class=md-nav__link> <span class=md-ellipsis> Single-Node K3s Cluster using k3d </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k3s/k3s-ha-cluster-using-k3d/ class=md-nav__link> <span class=md-ellipsis> Multi-master K3s cluster setup using k3d </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/k0s/ class=md-nav__link> <span class=md-ellipsis> k0s </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_4> <label class=md-nav__link for=__nav_7_2_4 id=__nav_7_2_4_label tabindex=0> <span class=md-ellipsis> Production environment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_4> <span class="md-nav__icon md-icon"></span> Production environment </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_4_1> <label class=md-nav__link for=__nav_7_2_4_1 id=__nav_7_2_4_1_label tabindex=0> <span class=md-ellipsis> Kubeadm </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_7_2_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_4_1> <span class="md-nav__icon md-icon"></span> Kubeadm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kubeadm/single-master-clusters-with-kubeadm/ class=md-nav__link> <span class=md-ellipsis> Bootstrapping cluster with kubeadm </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kubeadm/HA-clusters-with-kubeadm/ class=md-nav__link> <span class=md-ellipsis> Creating a HA cluster with kubeadm </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../other-tools/kubernetes/kubespray/ class=md-nav__link> <span class=md-ellipsis> Kubespray </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> <span class=md-ellipsis> CI/CD Pipeline </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> CI/CD Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/CI-CD/CI-CD-pipeline/ class=md-nav__link> <span class=md-ellipsis> CI/CD Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3_2> <label class=md-nav__link for=__nav_7_3_2 id=__nav_7_3_2_label tabindex=0> <span class=md-ellipsis> Using Jenkins </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3_2> <span class="md-nav__icon md-icon"></span> Using Jenkins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/CI-CD/jenkins/setup-jenkins-CI-CD-pipeline/ class=md-nav__link> <span class=md-ellipsis> Setup Jenkins CI/CD Pipeline </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/CI-CD/jenkins/integrate-your-GitHub-repository/ class=md-nav__link> <span class=md-ellipsis> GitHub to Jenkins Pipeline </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3_3> <label class=md-nav__link for=__nav_7_3_3 id=__nav_7_3_3_label tabindex=0> <span class=md-ellipsis> Using Github Actions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3_3> <span class="md-nav__icon md-icon"></span> Using Github Actions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/CI-CD/github-actions/setup-github-actions-pipeline/ class=md-nav__link> <span class=md-ellipsis> GitHub Actions CI/CD Pipeline </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> <span class=md-ellipsis> R </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> R </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/R/rstudio-server/running-rstudio-on-NERC/ class=md-nav__link> <span class=md-ellipsis> RStudio </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/R/r-shiny-server/running-rshiny-on-NERC/ class=md-nav__link> <span class=md-ellipsis> R Shiny </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../other-tools/apache-spark/spark/ class=md-nav__link> <span class=md-ellipsis> Apache Spark </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_6> <label class=md-nav__link for=__nav_7_6 id=__nav_7_6_label tabindex=0> <span class=md-ellipsis> MLflow </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_6_label aria-expanded=false> <label class=md-nav__title for=__nav_7_6> <span class="md-nav__icon md-icon"></span> MLflow </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../other-tools/mlflow/mlflow-overview/ class=md-nav__link> <span class=md-ellipsis> MLflow Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/mlflow/mlflow-server-setup/ class=md-nav__link> <span class=md-ellipsis> MLflow Server Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../other-tools/postgres/postgres-cluster-setup/ class=md-nav__link> <span class=md-ellipsis> PostgresSQL Cluster </span> </a> </li> <li class=md-nav__item> <a href=../../../other-tools/nfs/nfs-server-client-setup/ class=md-nav__link> <span class=md-ellipsis> Setup NFS Server and Client </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#pre-requisite class=md-nav__link> <span class=md-ellipsis> Pre-requisite </span> </a> </li> <li class=md-nav__item> <a href=#1-using-mountpoint-for-amazon-s3 class=md-nav__link> <span class=md-ellipsis> 1. Using Mountpoint for Amazon S3 </span> </a> <nav class=md-nav aria-label="1. Using Mountpoint for Amazon S3"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-mountpoint class=md-nav__link> <span class=md-ellipsis> Install Mountpoint </span> </a> </li> <li class=md-nav__item> <a href=#configuring-and-using-mountpoint class=md-nav__link> <span class=md-ellipsis> Configuring and using Mountpoint </span> </a> </li> <li class=md-nav__item> <a href=#create-a-local-directory-as-a-mount-point class=md-nav__link> <span class=md-ellipsis> Create a local directory as a mount point </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-locally-using-mountpoint class=md-nav__link> <span class=md-ellipsis> Mount the Container locally using Mountpoint </span> </a> </li> <li class=md-nav__item> <a href=#automatically-mounting-an-s3-bucket-at-boot class=md-nav__link> <span class=md-ellipsis> Automatically mounting an S3 bucket at boot </span> </a> <nav class=md-nav aria-label="Automatically mounting an S3 bucket at boot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-a-cron-job class=md-nav__link> <span class=md-ellipsis> Using a Cron Job </span> </a> </li> <li class=md-nav__item> <a href=#using-a-service-manager-like-systemd-by-creating-systemd-unit-file class=md-nav__link> <span class=md-ellipsis> Using a service manager like systemd by creating systemd unit file </span> </a> <nav class=md-nav aria-label="Using a service manager like systemd by creating systemd unit file"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-systemd-unit-file-ie-mountpoint-s3service class=md-nav__link> <span class=md-ellipsis> Create systemd unit file i.e. mountpoint-s3.service </span> </a> </li> <li class=md-nav__item> <a href=#launch-the-service class=md-nav__link> <span class=md-ellipsis> Launch the service </span> </a> </li> <li class=md-nav__item> <a href=#stopping-the-service class=md-nav__link> <span class=md-ellipsis> Stopping the service </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-using-goofys class=md-nav__link> <span class=md-ellipsis> 2. Using Goofys </span> </a> <nav class=md-nav aria-label="2. Using Goofys"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-goofys class=md-nav__link> <span class=md-ellipsis> Install goofys </span> </a> </li> <li class=md-nav__item> <a href=#provide-credentials-to-configure-goofys class=md-nav__link> <span class=md-ellipsis> Provide credentials to configure goofys </span> </a> </li> <li class=md-nav__item> <a href=#create-a-local-directory-as-a-mount-folder class=md-nav__link> <span class=md-ellipsis> Create a local directory as a mount folder </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-locally-using-goofys class=md-nav__link> <span class=md-ellipsis> Mount the Container locally using goofys </span> </a> </li> <li class=md-nav__item> <a href=#mounting-on-system-startup class=md-nav__link> <span class=md-ellipsis> Mounting on system startup </span> </a> <nav class=md-nav aria-label="Mounting on system startup"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configure-mounting-of-the-bucket1-container class=md-nav__link> <span class=md-ellipsis> Configure mounting of the bucket1 container </span> </a> <nav class=md-nav aria-label="Configure mounting of the bucket1 container"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-1-mount-the-repository-automatically-on-system-startup class=md-nav__link> <span class=md-ellipsis> Method 1: Mount the repository automatically on system startup </span> </a> </li> <li class=md-nav__item> <a href=#method-2-do-not-mount-the-repository-automatically-on-system-startup class=md-nav__link> <span class=md-ellipsis> Method 2: Do NOT mount the repository automatically on system startup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-using-s3fs class=md-nav__link> <span class=md-ellipsis> 3. Using S3FS </span> </a> <nav class=md-nav aria-label="3. Using S3FS"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-s3fs class=md-nav__link> <span class=md-ellipsis> Install S3FS </span> </a> </li> <li class=md-nav__item> <a href=#create-a-file-which-will-store-the-s3-credentials class=md-nav__link> <span class=md-ellipsis> Create a file which will store the S3 Credentials </span> </a> </li> <li class=md-nav__item> <a href=#create-a-container-in-the-nerc-projects-object-storage class=md-nav__link> <span class=md-ellipsis> Create a Container in the NERC Project's Object storage </span> </a> </li> <li class=md-nav__item> <a href=#create-a-local-directory-as-a-mount-point-in-your-vm class=md-nav__link> <span class=md-ellipsis> Create a local directory as a mount point in your VM </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-locally-using-s3fs class=md-nav__link> <span class=md-ellipsis> Mount the Container locally using s3fs </span> </a> </li> <li class=md-nav__item> <a href=#unmount-the-local-mount-point class=md-nav__link> <span class=md-ellipsis> Unmount the local mount point </span> </a> </li> <li class=md-nav__item> <a href=#configure-mounting-of-the-bucket1-repository class=md-nav__link> <span class=md-ellipsis> Configure mounting of the bucket1 repository </span> </a> <nav class=md-nav aria-label="Configure mounting of the bucket1 repository"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-1-mount-the-repository-automatically-on-startup class=md-nav__link> <span class=md-ellipsis> Method 1: Mount the repository automatically on startup </span> </a> </li> <li class=md-nav__item> <a href=#method-2-do-not-mount-the-repository-automatically-on-startup class=md-nav__link> <span class=md-ellipsis> Method 2: Do NOT mount the repository automatically on startup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-using-rclone class=md-nav__link> <span class=md-ellipsis> 4. Using Rclone </span> </a> <nav class=md-nav aria-label="4. Using Rclone"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installing-rclone class=md-nav__link> <span class=md-ellipsis> Installing Rclone </span> </a> </li> <li class=md-nav__item> <a href=#configuring-rclone class=md-nav__link> <span class=md-ellipsis> Configuring Rclone </span> </a> </li> <li class=md-nav__item> <a href=#listing-the-containers-and-contents-of-a-container class=md-nav__link> <span class=md-ellipsis> Listing the Containers and Contents of a Container </span> </a> </li> <li class=md-nav__item> <a href=#create-a-mount-point-directory class=md-nav__link> <span class=md-ellipsis> Create a mount point directory </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-with-rclone class=md-nav__link> <span class=md-ellipsis> Mount the container with Rclone </span> </a> <nav class=md-nav aria-label="Mount the container with Rclone"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-systemd-unit-file-ie-rclone-mountservice class=md-nav__link> <span class=md-ellipsis> Create systemd unit file i.e. rclone-mount.service </span> </a> </li> <li class=md-nav__item> <a href=#launch-the-service-using-a-service-manager class=md-nav__link> <span class=md-ellipsis> Launch the service using a service manager </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5-using-juicefs class=md-nav__link> <span class=md-ellipsis> 5. Using JuiceFS </span> </a> <nav class=md-nav aria-label="5. Using JuiceFS"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#preparation class=md-nav__link> <span class=md-ellipsis> Preparation </span> </a> <nav class=md-nav aria-label=Preparation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installation-of-the-juicefs-client class=md-nav__link> <span class=md-ellipsis> Installation of the JuiceFS client </span> </a> </li> <li class=md-nav__item> <a href=#installing-and-configuring-redis-database class=md-nav__link> <span class=md-ellipsis> Installing and Configuring Redis database </span> </a> <nav class=md-nav aria-label="Installing and Configuring Redis database"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-a-redis-password class=md-nav__link> <span class=md-ellipsis> Configuring a Redis Password </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-authorizing-s3-access-using-juicefs-config class=md-nav__link> <span class=md-ellipsis> Setting authorizing S3 access using juicefs config </span> </a> </li> <li class=md-nav__item> <a href=#formatting-file-system class=md-nav__link> <span class=md-ellipsis> Formatting file system </span> </a> </li> <li class=md-nav__item> <a href=#mounting-file-system-manually class=md-nav__link> <span class=md-ellipsis> Mounting file system manually </span> </a> <nav class=md-nav aria-label="Mounting file system manually"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-a-local-directory-as-a-mount-point-folder class=md-nav__link> <span class=md-ellipsis> Create a local directory as a mount point folder </span> </a> </li> <li class=md-nav__item> <a href=#mount-the-container-locally-using-juicefs class=md-nav__link> <span class=md-ellipsis> Mount the Container locally using juicefs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mount-juicefs-at-boot-time class=md-nav__link> <span class=md-ellipsis> Mount JuiceFS at Boot Time </span> </a> </li> <li class=md-nav__item> <a href=#automating-mounting-with-systemd-service-unit-file class=md-nav__link> <span class=md-ellipsis> Automating Mounting with systemd service unit file </span> </a> <nav class=md-nav aria-label="Automating Mounting with systemd service unit file"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#launch-the-service-as-daemon class=md-nav__link> <span class=md-ellipsis> Launch the service as daemon </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-synchronization class=md-nav__link> <span class=md-ellipsis> Data Synchronization </span> </a> <nav class=md-nav aria-label="Data Synchronization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#command-syntax class=md-nav__link> <span class=md-ellipsis> Command Syntax </span> </a> </li> <li class=md-nav__item> <a href=#synchronize-between-object-storage-and-juicefs class=md-nav__link> <span class=md-ellipsis> Synchronize between Object Storage and JuiceFS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#how-to-destroy-a-file-system class=md-nav__link> <span class=md-ellipsis> How to destroy a file system </span> </a> <nav class=md-nav aria-label="How to destroy a file system"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#find-the-uuid-of-existing-mount-file-system class=md-nav__link> <span class=md-ellipsis> Find the UUID of existing mount file system </span> </a> </li> <li class=md-nav__item> <a href=#destroy-a-file-system class=md-nav__link> <span class=md-ellipsis> Destroy a file system </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../../.. class=md-path__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-path__item> <a href=../../ class=md-path__link> <span class=md-ellipsis> OpenStack </span> </a> </li> <li class=md-path__item> <a href=../volumes/ class=md-path__link> <span class=md-ellipsis> Persistent Storage </span> </a> </li> <li class=md-path__item> <a href=../object-storage/ class=md-path__link> <span class=md-ellipsis> Object Storage/ Swift </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <a href=https://github.com/nerc-project/nerc-docs/edit/main/docs/openstack/persistent-storage/mount-the-object-storage.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg> </a> <h1 id=mount-the-object-storage-to-an-instance>Mount The Object Storage To An Instance</h1> <h2 id=pre-requisite>Pre-requisite</h2> <p>We are using following setting for this purpose to mount the object storage to an NERC OpenStack VM:</p> <ul> <li> <p>1 Linux machine, <code>ubuntu-22.04-x86_64</code> or your choice of Ubuntu OS image, <code>cpu-su.2</code> flavor with 2vCPU, 8GB RAM, 20GB storage - also <a href=../../create-and-connect-to-the-VM/assign-a-floating-IP/ >assign Floating IP</a> to this VM.</p> </li> <li> <p>The NERC's Swift Endpoint URL: <code>https://stack.nerc.mghpcc.org:13808</code>.</p> <div class="admonition info"> <p class=admonition-title>Very Important: Endpoint for S3 API for the NERC Object Storage/ Swift</p> <p>The default endpoint for S3 API for the NERC Object Storage/ Swift is <code>https://stack.nerc.mghpcc.org:13808</code>.</p> </div> </li> <li> <p>Setup and enable your S3 API credentials:</p> </li> </ul> <p>To access the API credentials, you must login through the OpenStack Dashboard and navigate to "Projects &gt; API Access" where you can download the "Download OpenStack RC File" as well as the "EC2 Credentials".</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/ec2_credentials.png data-desc-position=bottom><img alt="EC2 Credentials" src=../images/ec2_credentials.png></a></p> <p>While clicking on "EC2 Credentials", this will download a file <strong>zip file</strong> including <code>ec2rc.sh</code> file that has content similar to shown below. The important parts are <code>EC2_ACCESS_KEY</code> and <code>EC2_SECRET_KEY</code>, keep them noted.</p> <div class="language-text highlight"><pre><span></span><code>#!/bin/bash

NOVARC=$(readlink -f "${BASH_SOURCE:-${0}}" 2&gt;/dev/null) || NOVARC=$(python -c 'import os,sys; print os.path.abspath(os.path.realpath(sys.argv[1]))' "${BASH_SOURCE:-${0}}")
NOVA_KEY_DIR=${NOVARC%/*}
export EC2_ACCESS_KEY=...
export EC2_SECRET_KEY=...
export EC2_URL=https://localhost/notimplemented
export EC2_USER_ID=42 # nova does not use user id, but bundling requires it
export EC2_PRIVATE_KEY=${NOVA_KEY_DIR}/pk.pem
export EC2_CERT=${NOVA_KEY_DIR}/cert.pem
export NOVA_CERT=${NOVA_KEY_DIR}/cacert.pem
export EUCALYPTUS_CERT=${NOVA_CERT} # euca-bundle-image seems to require this set

alias ec2-bundle-image="ec2-bundle-image --cert ${EC2_CERT} --privatekey ${EC2_PRIVATE_KEY} --user 42 --ec2cert ${NOVA_CERT}"
alias ec2-upload-bundle="ec2-upload-bundle -a ${EC2_ACCESS_KEY} -s ${EC2_SECRET_KEY} --url ${S3_URL} --ec2cert ${NOVA_CERT}"
</code></pre></div> <p><strong>Alternatively,</strong> you can obtain your EC2 access keys using the openstack client:</p> <div class="language-text highlight"><pre><span></span><code>sudo apt install python3-openstackclient

openstack ec2 credentials list
+------------------+------------------+--------------+-----------+
| Access           | Secret           | Project ID   | User ID   |
+------------------+------------------+--------------+-----------+
| &lt;EC2_ACCESS_KEY&gt; | &lt;EC2_SECRET_KEY&gt; | &lt;Project_ID&gt; | &lt;User_ID&gt; |
+------------------+------------------+--------------+-----------+
</code></pre></div> <p><strong>OR,</strong> you can even create a new one by running:</p> <div class="language-text highlight"><pre><span></span><code>openstack ec2 credentials create
</code></pre></div> <ul> <li> <p>Source the downloaded OpenStack RC File from <em>Projects &gt; API Access</em> by using: <code>source *-openrc.sh</code> command. Sourcing the RC File will set the required environment variables.</p> </li> <li> <p>Allow Other User option by editing fuse config by editing <code>/etc/fuse.conf</code> file and uncomment "user_allow_other" option.</p> <div class="language-text highlight"><pre><span></span><code>sudo nano /etc/fuse.conf
</code></pre></div> </li> </ul> <p>The output going to look like this:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/fuse-config.png data-desc-position=bottom><img alt="Fuse Config to Allow Other User" src=../images/fuse-config.png></a></p> <div class="admonition warning"> <p class=admonition-title>A comparative analysis of Mountpoint for S3, Goofys, and S3FS.</p> <p>When choosing between S3 clients that enable the utilization of an object store with applications expecting files, it's essential to consider the specific use case and whether the convenience and compatibility provided by FUSE clients match the project's requirements.</p> <p>To delve into a comparative analysis of <em>Mountpoint for S3</em>, <em>Goofys</em>, and <em>S3FS</em>, please read <a href=https://medium.com/@maksym.lutskyi/a-comparative-analysis-of-mountpoint-for-s3-s3fs-and-goofys-9a097a25>this blog post</a>.</p> </div> <h2 id=1-using-mountpoint-for-amazon-s3>1. Using Mountpoint for Amazon S3</h2> <p><a href=https://github.com/awslabs/mountpoint-s3>Mountpoint for Amazon S3</a> is a high-throughput open-source file client designed to mount an Amazon S3 bucket as a local file system. Mountpoint is optimized for workloads that need high-throughput read and write access to data stored in S3 Object Storage through a file system interface.</p> <div class="admonition warning"> <p class=admonition-title>Very Important Note</p> <p>Mountpoint for Amazon S3 intentionally does not implement the full <a href=https://en.wikipedia.org/wiki/POSIX>POSIX</a> standard specification for file systems. Mountpoint supports file-based workloads that perform sequential and random reads, sequential (append only) writes, and that don't need full POSIX semantics.</p> </div> <h3 id=install-mountpoint>Install Mountpoint</h3> <p>Access your virtual machine using SSH. Update the packages on your system and install <code>wget</code> to be able to download the <code>mount-s3</code> binary directly to your VM:</p> <div class="language-text highlight"><pre><span></span><code>sudo apt update &amp;&amp; sudo apt upgrade
sudo apt install wget
</code></pre></div> <p>Now, navigate to your home directory:</p> <div class="language-text highlight"><pre><span></span><code>cd
</code></pre></div> <ol> <li> <p>Download the Mountpoint for Amazon S3 package using <code>wget</code> command:</p> <div class="language-text highlight"><pre><span></span><code>wget https://s3.amazonaws.com/mountpoint-s3-release/latest/x86_64/mount-s3.deb
</code></pre></div> </li> <li> <p>Install the package by entering the following command:</p> <div class="language-text highlight"><pre><span></span><code>sudo apt-get install ./mount-s3.deb
</code></pre></div> </li> <li> <p>Verify that Mountpoint for Amazon S3 is successfully installed by entering the following command:</p> <div class="language-text highlight"><pre><span></span><code>mount-s3 --version
</code></pre></div> <p>You should see output similar to the following:</p> <div class="language-text highlight"><pre><span></span><code>mount-s3 1.6.0
</code></pre></div> </li> </ol> <h3 id=configuring-and-using-mountpoint>Configuring and using Mountpoint</h3> <p>Make a folder to store your credentials:</p> <div class="language-text highlight"><pre><span></span><code>mkdir ~/.aws/
</code></pre></div> <p>Create file <code>~/.aws/credentials</code> using your favorite text editor (for example <code>nano</code> or <code>vim</code>). Add the following contents to it which requires the <code>EC2_ACCESS_KEY</code> and <code>EC2_SECRET_KEY</code> keys that you noted from <code>ec2rc.sh</code> file (during the <strong>"Setup and enable your S3 API credentials"</strong> step):</p> <div class="language-text highlight"><pre><span></span><code>[nerc]
aws_access_key_id=&lt;EC2_ACCESS_KEY&gt;
aws_secret_access_key=&lt;EC2_SECRET_KEY&gt;
</code></pre></div> <p>Save the file and exit the text editor.</p> <h3 id=create-a-local-directory-as-a-mount-point>Create a local directory as a mount point</h3> <div class="language-text highlight"><pre><span></span><code>mkdir -p ~/bucket1
</code></pre></div> <h3 id=mount-the-container-locally-using-mountpoint>Mount the Container locally using Mountpoint</h3> <p>The object storage container i.e. "bucket1" will be mounted in the directory <code>~/bucket1</code></p> <div class="language-text highlight"><pre><span></span><code>mount-s3 --profile "nerc" --endpoint-url "https://stack.nerc.mghpcc.org:13808" --allow-other --force-path-style --debug bucket1 ~/bucket1/
</code></pre></div> <p>In this command,</p> <ul> <li> <p><code>mount-s3</code> is the Mountpoint for Amazon S3 package as installed in <code>/usr/bin/</code> path we don't need to specify the full path.</p> </li> <li> <p><code>--profile</code> corresponds to the name given on the <code>~/.aws/credentials</code> file i.e. <code>[nerc]</code>.</p> </li> <li> <p><code>--endpoint-url</code> corresponds to the Object Storage endpoint url for NERC Object Storage. You don't need to modify this url.</p> </li> <li> <p><code>--allow-other</code>: Allows other users to access the mounted filesystem. This is particularly useful when multiple users need to access the mounted S3 bucket. Only allowed if <code>user_allow_other</code> is set in <code>/etc/fuse.conf</code>.</p> </li> <li> <p><code>--force-path-style</code>: Forces the use of path-style URLs when accessing the S3 bucket. This is necessary when working with certain S3-compatible storage services that do not support virtual-hosted-style URLs.</p> </li> <li> <p><code>--debug</code>: Enables debug mode, providing additional information about the mounting process.</p> </li> <li> <p><code>bucket1</code> is the name of the container which contains the NERC Object Storage resources.</p> </li> <li> <p><code>~/bucket1</code> is the location of the folder in which you want to mount the Object Storage filesystem.</p> </li> </ul> <div class="admonition tip"> <p class=admonition-title>Important Note</p> <p>Mountpoint automatically configures reasonable defaults for file system settings such as permissions and performance. However, if you require finer control over how the Mountpoint file system behaves, you can adjust these settings accordingly. For further details, please refer to <a href=https://github.com/awslabs/mountpoint-s3/blob/main/doc/CONFIGURATION.md#file-system-configuration>this resource</a>.</p> </div> <p>In order to test whether the mount was successful, navigate to the directory in which you mounted the NERC container repository, for example:</p> <div class="language-text highlight"><pre><span></span><code>cd ~/bucket1
</code></pre></div> <p>Use the <code>ls</code> command to list its content. You should see the output similar to this:</p> <div class="language-text highlight"><pre><span></span><code>ls

README.md   image.png   test-file
</code></pre></div> <p>The NERC Object Storage container repository has now been mounted using Mountpoint.</p> <div class="admonition danger"> <p class=admonition-title>Very Important Information</p> <p>Please note that any of these Mountpoints is not persistent if your VM is stopped or rebooted in the future. After each reboot, you will need to execute the mounting command as mentioned <a href=#mount-the-container-locally-using-mountpoint>above</a> again. To enable automatic mounting at system startup, please follow the steps as <a href=#automatically-mounting-an-s3-bucket-at-boot>outlined here</a>.</p> </div> <h3 id=automatically-mounting-an-s3-bucket-at-boot>Automatically mounting an S3 bucket at boot</h3> <p>Mountpoint does not currently support automatically mounting a bucket at system boot time by configuring them in the <code>/etc/fstab</code>. If you would like your bucket/s to automatically mount when the machine is started you will need to either set up a <a href=https://ostechnix.com/a-beginners-guide-to-cron-jobs/ >Cron Job</a> in <code>crontab</code> or using a <a href=https://www.shubhamdipt.com/blog/how-to-create-a-systemd-service-in-linux/ >service manager</a> like <code>systemd</code>.</p> <h4 id=using-a-cron-job>Using a Cron Job</h4> <p>You need to create a <strong>Cron job</strong> so that the script runs each time your VM reboots, remounting S3 Object Storage to your VM.</p> <div class="language-text highlight"><pre><span></span><code>crontab -e
</code></pre></div> <p>Add this command to the end of the file</p> <div class="language-text highlight"><pre><span></span><code>@reboot sh /&lt;Path_To_Directory&gt;/script.sh
</code></pre></div> <p>For example,</p> <div class="language-text highlight"><pre><span></span><code>@reboot sh /home/ubuntu/script.sh
</code></pre></div> <p>Create <code>script.sh</code> file paste the below code to it.</p> <div class="language-text highlight"><pre><span></span><code>#!/bin/bash
mount-s3 [OPTIONS] &lt;BUCKET_NAME&gt; &lt;DIRECTORY&gt;
</code></pre></div> <p>For example,</p> <div class="language-text highlight"><pre><span></span><code>#!/bin/bash
mount-s3 --profile "nerc" --endpoint-url "https://stack.nerc.mghpcc.org:13808" --allow-other --force-path-style --debug bucket1 ~/bucket1/
</code></pre></div> <p>Make the file executable by running the below command</p> <div class="language-text highlight"><pre><span></span><code>chmod +x script.sh
</code></pre></div> <p>Reboot your VM:</p> <div class="language-text highlight"><pre><span></span><code>sudo reboot
</code></pre></div> <h4 id=using-a-service-manager-like-systemd-by-creating-systemd-unit-file>Using a service manager like <code>systemd</code> by creating systemd unit file</h4> <p>Create directory in <code>/root</code> folder in which you will store the credentials:</p> <div class="language-text highlight"><pre><span></span><code>sudo mkdir /root/.aws
</code></pre></div> <p>Copy the credentials you created in your local directory to the <code>.aws</code> directory in the <code>/root</code> folder:</p> <div class="language-text highlight"><pre><span></span><code>sudo cp ~/.aws/credentials /root/.aws/
</code></pre></div> <h5 id=create-systemd-unit-file-ie-mountpoint-s3service>Create systemd unit file i.e. <code>mountpoint-s3.service</code></h5> <p>Create a <strong>systemd service</strong> unit file that is going to execute the above script and dynamically mount or unmount the container:</p> <div class="language-text highlight"><pre><span></span><code>sudo nano /etc/systemd/system/mountpoint-s3.service
</code></pre></div> <p>Edit the file to look like the below:</p> <div class="language-text highlight"><pre><span></span><code>[Unit]
Description=Mountpoint for Amazon S3 mount
Documentation=https://docs.aws.amazon.com/AmazonS3/latest/userguide/mountpoint.html
#Wants=network.target
Wants=network-online.target
#Requires=network-online.target
AssertPathIsDirectory=/home/ubuntu/bucket1
After=network-online.target

[Service]
Type=forking
User=root
Group=root
ExecStart=/usr/bin/mount-s3 bucket1 /home/ubuntu/bucket1 \
      --profile "nerc" \
      --endpoint-url "https://stack.nerc.mghpcc.org:13808" \
      --allow-other \
      --force-path-style \
      --debug

ExecStop=/bin/fusermount -u /home/ubuntu/bucket1
Restart=always
RestartSec=10

[Install]
#WantedBy=remote-fs.target
WantedBy=default.target
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Important Note</p> <p>The <code>network-online.target</code> lines ensure that mounting is not attempted until there's a network connection available. The service is launched as soon as the network is up and running, it mounts the bucket and remains active.</p> </div> <h5 id=launch-the-service>Launch the service</h5> <p>Now reload systemd deamon:</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl daemon-reload
</code></pre></div> <p>Start your service</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl start mountpoint-s3.service
</code></pre></div> <p>To check the status of your service</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl status mountpoint-s3.service
</code></pre></div> <p>To enable your service on every reboot</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl enable --now mountpoint-s3.service
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Information</p> <p>The service name is based on the file name i.e. <code>/etc/systemd/system/mountpoint-s3.service</code> so you can just use <code>mountpoint-s3</code> instead of <code>mountpoint-s3.service</code> on all above <code>systemctl</code> commands.</p> <p>To debug you can use:</p> <p><code>sudo systemctl status mountpoint-s3.service -l --no-pager</code> or, <code>journalctl -u mountpoint-s3 --no-pager | tail -50</code></p> </div> <p>Verify, the service is running successfully in background as <code>root</code> user:</p> <div class="language-text highlight"><pre><span></span><code>ps aux | grep mount-s3
</code></pre></div> <p>The output should look similar to:</p> <div class="language-text highlight"><pre><span></span><code>root       13585  0.0  0.0 1060504 11672 ?       Sl   02:00   0:00 /usr/bin/mount-s3 bucket1 /home/ubuntu/bucket1 --profile nerc --endpoint-url https://stack.nerc.mghpcc.org:13808 --read-only --allow-other --force-path-style --debug
</code></pre></div> <h5 id=stopping-the-service>Stopping the service</h5> <p>Stopping the service causes the container to unmount from the mount point.</p> <p>To disable your service on every reboot:</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl disable --now mountpoint-s3.service
</code></pre></div> <p>Confirm the Service is not in "Active" Status:</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl status mountpoint-s3.service

 mountpoint-s3.service - Mountpoint for Amazon S3 mount
    Loaded: loaded (/etc/systemd/system/mountpoint-s3.service; disabled; vendor p&gt;
    Active: inactive (dead)
</code></pre></div> <p>Unmount the local mount point:</p> <p>If you have the local mounted directory "bucket1" already mounted, unmount it (replace <code>~/bucket1</code> with the location in which you have it mounted):</p> <div class="language-text highlight"><pre><span></span><code>fusermount -u ~/bucket1
</code></pre></div> <p><strong>Or,</strong></p> <div class="language-text highlight"><pre><span></span><code>sudo umount -l ~/bucket1
</code></pre></div> <p>Now reboot your VM:</p> <div class="language-text highlight"><pre><span></span><code>sudo reboot
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Further Reading</p> <p>For further details, including instructions for downloading and installing Mountpoint on various Linux operating systems, please refer to <a href=https://docs.aws.amazon.com/AmazonS3/latest/userguide/mountpoint-installation.html>this resource</a>.</p> </div> <h2 id=2-using-goofys>2. Using Goofys</h2> <h3 id=install-goofys>Install goofys</h3> <p>Access your virtual machine using SSH. Update the packages on your system and install <code>wget</code> to be able to download the <code>goofys</code> binary directly to your VM:</p> <div class="language-text highlight"><pre><span></span><code>sudo apt update &amp;&amp; sudo apt upgrade
sudo apt install wget
</code></pre></div> <p>Now, navigate to your home directory:</p> <div class="language-text highlight"><pre><span></span><code>cd
</code></pre></div> <p>Use <code>wget</code> to download the <code>goofys</code> binary:</p> <div class="language-text highlight"><pre><span></span><code>wget https://github.com/kahing/goofys/releases/latest/download/goofys
</code></pre></div> <p>Make the <code>goofys</code> binary executable:</p> <div class="language-text highlight"><pre><span></span><code>chmod +x goofys
</code></pre></div> <p>Copy the <code>goofys</code> binary to somewhere in your path</p> <div class="language-text highlight"><pre><span></span><code>sudo cp goofys /usr/bin/
</code></pre></div> <div class="admonition note"> <p class=admonition-title>To update goofys in the future</p> <p>In order to update the newer version of <code>goofys</code> binary, you need to follow:</p> <ul> <li> <p>make sure that the data in the NERC Object Storage container is not actively used by any applications on your VM.</p> </li> <li> <p>remove the <code>goofys</code> binary from ubuntu's home directory as well as from <code>/usr/bin/</code>.</p> </li> <li> <p>execute the above commands (those starting with wget and chmod) from your home directory again and copy it to your path i.e. <code>/usr/bin/</code>.</p> </li> <li> <p>reboot your VM.</p> </li> </ul> </div> <h3 id=provide-credentials-to-configure-goofys>Provide credentials to configure goofys</h3> <p>Make a folder to store your credentials:</p> <div class="language-text highlight"><pre><span></span><code>mkdir ~/.aws/
</code></pre></div> <p>Create file <code>~/.aws/credentials</code> using your favorite text editor (for example <code>nano</code> or <code>vim</code>). Add the following contents to it which requires the <code>EC2_ACCESS_KEY</code> and <code>EC2_SECRET_KEY</code> keys that you noted from <code>ec2rc.sh</code> file (during the <strong>"Setup and enable your S3 API credentials"</strong> step):</p> <div class="language-text highlight"><pre><span></span><code>[nerc]
aws_access_key_id=&lt;EC2_ACCESS_KEY&gt;
aws_secret_access_key=&lt;EC2_SECRET_KEY&gt;
</code></pre></div> <p>Save the file and exit the text editor.</p> <h3 id=create-a-local-directory-as-a-mount-folder>Create a local directory as a mount folder</h3> <div class="language-text highlight"><pre><span></span><code>mkdir -p ~/bucket1
</code></pre></div> <h3 id=mount-the-container-locally-using-goofys>Mount the Container locally using <code>goofys</code></h3> <p>The object storage container i.e. "bucket1" will be mounted in the directory <code>~/bucket1</code></p> <div class="language-text highlight"><pre><span></span><code>goofys -o allow_other --region RegionOne --profile "nerc" --endpoint "https://stack.nerc.mghpcc.org:13808" bucket1 ~/bucket1
</code></pre></div> <p>In this command,</p> <ul> <li> <p><code>goofys</code> is the goofys binary as we already copied this in <code>/usr/bin/</code> path we don't need to specify the full path.</p> </li> <li> <p><code>-o</code> stands for goofys options, and is handled differently.</p> </li> <li> <p><code>allow_other</code> Allows goofys with option <code>allow_other</code> only allowed if <code>user_allow_other</code> is set in <code>/etc/fuse.conf</code>.</p> </li> <li> <p><code>--profile</code> corresponds to the name given on the <code>~/.aws/credentials</code> file i.e. <code>[nerc]</code>.</p> </li> <li> <p><code>--endpoint</code> corresponds to the Object Storage endpoint url for NERC Object Storage. You don't need to modify this url.</p> </li> <li> <p><code>bucket1</code> is the name of the container which contains the NERC Object Storage resources.</p> </li> <li> <p><code>~/bucket1</code> is the location of the folder in which you want to mount the Object Storage filesystem.</p> </li> </ul> <p>In order to test whether the mount was successful, navigate to the directory in which you mounted the NERC container repository, for example:</p> <div class="language-text highlight"><pre><span></span><code>cd ~/bucket1
</code></pre></div> <p>Use the <code>ls</code> command to list its content. You should see the output similar to this:</p> <div class="language-text highlight"><pre><span></span><code>ls

README.md   image.png   test-file
</code></pre></div> <p>The NERC Object Storage container repository has now been mounted using <code>goofys</code>.</p> <div class="admonition danger"> <p class=admonition-title>Very Important Information</p> <p>Please note that any of these mounted buckets is not persistent if your VM is stopped or rebooted in the future. After each reboot, you will need to execute the mounting command as mentioned <a href=#mount-the-container-locally-using-goofys>above</a> again. To enable automatic mounting at system startup, please follow the steps as <a href=#mounting-on-system-startup>outlined here</a>.</p> </div> <h3 id=mounting-on-system-startup>Mounting on system startup</h3> <p>Mounts can be set to occur automatically during system initialization so that mounted file systems will persist even after the VM reboot.</p> <p>Create directory in <code>/root</code> folder in which you will store the credentials:</p> <div class="language-text highlight"><pre><span></span><code>sudo mkdir /root/.aws
</code></pre></div> <p>Copy the credentials you created in your local directory to the <code>.aws</code> directory in the <code>/root</code> folder:</p> <div class="language-text highlight"><pre><span></span><code>sudo cp ~/.aws/credentials /root/.aws/
</code></pre></div> <h4 id=configure-mounting-of-the-bucket1-container>Configure mounting of the <code>bucket1</code> container</h4> <p>Open the file <code>/etc/fstab</code> using your favorite command line text editor for editing. You will need sudo privileges for that. For example, if you want to use nano, execute this command:</p> <div class="language-text highlight"><pre><span></span><code>sudo nano /etc/fstab
</code></pre></div> <p>Proceed with one of the methods below depending on whether you wish to have the "bucket1" repository automatically mounted at system startup:</p> <h5 id=method-1-mount-the-repository-automatically-on-system-startup>Method 1: Mount the repository automatically on system startup</h5> <p>Add the following line to the <code>/etc/fstab</code> file:</p> <div class="language-text highlight"><pre><span></span><code>/usr/bin/goofys#bucket1 /home/ubuntu/bucket1 fuse _netdev,allow_other,--dir-mode=0777,--file-mode=0666,--region=RegionOne,--profile=nerc,--endpoint=https://stack.nerc.mghpcc.org:13808 0 0
</code></pre></div> <h5 id=method-2-do-not-mount-the-repository-automatically-on-system-startup>Method 2: Do NOT mount the repository automatically on system startup</h5> <p>Add the following line to the <code>/etc/fstab</code> file:</p> <div class="language-text highlight"><pre><span></span><code>/usr/bin/goofys#bucket1 /home/ubuntu/bucket1 fuse noauto,_netdev,allow_other,--dir-mode=0777,--file-mode=0666,--region=RegionOne,--profile=nerc,--endpoint=https://stack.nerc.mghpcc.org:13808 0 0
</code></pre></div> <p>The difference between this code and the code mentioned in Method 1 is the addition of the option <code>noauto</code>.</p> <div class="admonition note"> <p class=admonition-title>Content of /etc/fstab</p> <p>In the <code>/etc/fstab</code> content as added above:</p> <div class="language-text highlight"><pre><span></span><code>grep goofys /etc/fstab
</code></pre></div> <p>The output should look similar to:</p> <div class="language-text highlight"><pre><span></span><code>/usr/bin/goofys#bucket1 /home/ubuntu/bucket1 fuse _netdev,allow_other,--dir-mode=0777,--file-mode=0666,--region=RegionOne,--profile=nerc,--endpoint=https://stack.nerc.mghpcc.org:13808 0 0
</code></pre></div> <ul> <li> <p><code>/usr/bin/goofys</code> with the location of your <code>goofys</code> binary.</p> </li> <li> <p><code>/home/ubuntu/bucket1</code> is the location in which you wish to mount <code>bucket1</code> container from your NERC Object Storage.</p> </li> <li> <p><code>--profile=nerc</code> is the name you mentioned on the <code>~/.aws/credentials</code> file i.e. <code>[nerc]</code>.</p> </li> </ul> </div> <p>Once you have added that line to your <code>/etc/fstab</code> file, reboot the VM. After the system has restarted, check whether the NERC Object Storage repository i.e. <code>bucket1</code> is mounted in the directory specified by you i.e. in <code>/home/ubuntu/bucket1</code>.</p> <div class="admonition tip"> <p class=admonition-title>Important Information</p> <p>If you just want to test your mounting command written in <code>/etc/fstab</code> without "Rebooting" the VM you can also do that by running <code>sudo mount -a</code>. If there's no error, your mount is working and will persist after reboot.</p> <p>And if you want to stop automatic mounting of the container from the NERC Object Storage repository i.e. <code>bucket1</code>, remove the line you added in the <code>/etc/fstab</code> file. You can also comment it out by adding <code>#</code> character in front of that line. After that, reboot the VM. Optionally, you can also remove the <code>goofys</code> binary and the credentials file located at <code>~/.aws/credentials</code> if you no longer want to use <code>goofys</code>.</p> </div> <h2 id=3-using-s3fs>3. Using S3FS</h2> <h3 id=install-s3fs>Install S3FS</h3> <p>Access your virtual machine using SSH. Update the packages on your system and install <code>s3fs</code>:</p> <div class="language-text highlight"><pre><span></span><code>sudo apt update &amp;&amp; sudo apt upgrade
sudo apt install s3fs
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>For RedHat/Rocky/AlmaLinux</p> <p>The <strong>RedHat/Rocky/AlmaLinux</strong> repositiories do not have <code>s3fs</code>. Therefore, you will need to compile it yourself.</p> <p>First, using your local computer, visit the following website (it contains the releases of <code>s3fs</code>): <a href=https://github.com/s3fs-fuse/s3fs-fuse/releases/latest>https://github.com/s3fs-fuse/s3fs-fuse/releases/latest</a>.</p> <p>Then, in the section with the most recent release find the part <strong>Assets</strong>. From there, find the link to the zip version of the <strong>Source code</strong>.</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/s3fs_assets_download.png data-desc-position=bottom><img alt="S3FS  Latest Assets Download" src=../images/s3fs_assets_download.png></a></p> <p>Right click on one of the Source Code i.e. "v1.94.zip" and select the "Copy link address". You will need this link to use later as a parameter for the <code>wget</code> command to download it to your virtual machine.</p> <p>Access your VM on the NERC OpenStack using the web console or SSH.</p> <p>Update your packages:</p> <div class="language-text highlight"><pre><span></span><code>sudo dnf update -y
</code></pre></div> <p>Install the prerequisites including fuse, the <em>C++ compiler</em> and make:</p> <div class="language-text highlight"><pre><span></span><code>sudo dnf config-manager --set-enabled crb

sudo dnf install automake fuse fuse-devel gcc-c++ git libcurl-devel libxml2-devel make openssl-devel wget unzip

# OR, sudo dnf --enablerepo=crb install automake fuse fuse-devel gcc-c++ git libcurl-devel libxml2-devel make openssl-devel wget unzip
</code></pre></div> <p>Now, use <code>wget</code> to download the source code. Replace https://github.com/s3fs-fuse/s3fs-fuse/archive/refs/tags/v1.94.zip with the link to the source code you found previously:</p> <div class="language-text highlight"><pre><span></span><code>wget https://github.com/s3fs-fuse/s3fs-fuse/archive/refs/tags/v1.94.zip
</code></pre></div> <p>Use the <code>ls</code> command to verify that the zip archive has been downloaded:</p> <div class="language-text highlight"><pre><span></span><code>ls
</code></pre></div> <p>Unzip the archive (replace v1.94.zip with the name of the archive you downloaded):</p> <div class="language-text highlight"><pre><span></span><code>unzip v1.94.zip
</code></pre></div> <p>Use the ls command to find the name of the folder you just extracted:</p> <div class="language-text highlight"><pre><span></span><code>ls
</code></pre></div> <p>Now, navigate to that folder (replace <strong>s3fs-fuse-1.94</strong> with the name of the folder you just extracted):</p> <div class="language-text highlight"><pre><span></span><code>cd s3fs-fuse-1.94
</code></pre></div> <p>Perform the compilation by executing the following commands in order:</p> <div class="language-text highlight"><pre><span></span><code>./autogen.sh
./configure
make
sudo make install
</code></pre></div> <p><code>s3fs</code> should now be installed in <code>/usr/local/bin/s3fs</code>.</p> </div> <h3 id=create-a-file-which-will-store-the-s3-credentials>Create a file which will store the S3 Credentials</h3> <p>Store your S3 credentials in a file <code>${HOME}/.passwd-s3fs</code> and set "owner-only" permissions. Run the following command to create a pair of <code>EC2_ACCESS_KEY</code> and <code>EC2_SECRET_KEY</code> keys that you noted from <code>ec2rc.sh</code> file (above) to store them in the file.</p> <div class="language-text highlight"><pre><span></span><code>echo EC2_ACCESS_KEY:EC2_SECRET_KEY &gt; ${HOME}/.passwd-s3fs
</code></pre></div> <p>Change the permissions of this file to 600 to set "owner-only" permissions:</p> <div class="language-text highlight"><pre><span></span><code>chmod 600 ${HOME}/.passwd-s3fs
</code></pre></div> <h3 id=create-a-container-in-the-nerc-projects-object-storage><a href=../object-storage/#create-your-first-container>Create a Container</a> in the NERC Project's Object storage</h3> <p>We create it using the OpenStack Swift client:</p> <div class="language-text highlight"><pre><span></span><code>sudo apt install python3-swiftclient
</code></pre></div> <p>Let's call the Container "bucket1"</p> <div class="language-text highlight"><pre><span></span><code>swift post bucket1
</code></pre></div> <div class="admonition note"> <p class=admonition-title>More about Swift Interface</p> <p>You can read more about using Swift Interface for NERC Object Storage <a href=../object-storage/#ii-swift-interface>here</a>.</p> </div> <h3 id=create-a-local-directory-as-a-mount-point-in-your-vm>Create a local directory as a mount point in your VM</h3> <div class="language-text highlight"><pre><span></span><code>mkdir -p ~/bucket1
</code></pre></div> <h3 id=mount-the-container-locally-using-s3fs>Mount the Container locally using <code>s3fs</code></h3> <p>The object storage container i.e. "bucket1" will be mounted in the directory <code>~/bucket1</code></p> <div class="language-text highlight"><pre><span></span><code>s3fs bucket1 ~/bucket1 -o passwd_file=~/.passwd-s3fs -o url=https://stack.nerc.mghpcc.org:13808 -o use_path_request_style -o umask=0002
</code></pre></div> <h3 id=unmount-the-local-mount-point>Unmount the local mount point</h3> <p>If you have the local mounted directory "bucket1" already mounted, unmount it (replace <code>~/bucket1</code> with the location in which you have it mounted):</p> <div class="language-text highlight"><pre><span></span><code>sudo umount -l ~/bucket1
</code></pre></div> <h3 id=configure-mounting-of-the-bucket1-repository>Configure mounting of the <code>bucket1</code> repository</h3> <p>Open the file <code>/etc/fstab</code> using your favorite command line text editor for editing. You will need sudo privileges for that. For example, if you want to use nano, execute this command:</p> <div class="language-text highlight"><pre><span></span><code>sudo nano /etc/fstab
</code></pre></div> <p>Proceed with one of the methods below depending on whether you wish to have the "bucket1" repository automatically mounted at system startup:</p> <h4 id=method-1-mount-the-repository-automatically-on-startup>Method 1: Mount the repository automatically on startup</h4> <p>Add the following line to the <code>/etc/fstab</code> file:</p> <div class="language-text highlight"><pre><span></span><code>/usr/bin/s3fs#bucket1 /home/ubuntu/bucket1 fuse passwd_file=/home/ubuntu/.passwd-s3fs,_netdev,allow_other,use_path_request_style,uid=0,umask=0222,mp_umask=0222,gid=0,url=https://stack.nerc.mghpcc.org:13808 0 0
</code></pre></div> <h4 id=method-2-do-not-mount-the-repository-automatically-on-startup>Method 2: Do NOT mount the repository automatically on startup</h4> <p>Add the following line to the <code>/etc/fstab</code> file:</p> <div class="language-text highlight"><pre><span></span><code>/usr/bin/s3fs#bucket1 /home/ubuntu/bucket1 fuse noauto,passwd_file=/home/ubuntu/.passwd-s3fs,_netdev,allow_other,use_path_request_style,uid=0,umask=0222,mp_umask=0222,gid=0,url=https://stack.nerc.mghpcc.org:13808 0 0
</code></pre></div> <p>The difference between this code and the code mentioned in Method 1 is the addition of the option <code>noauto</code>.</p> <div class="admonition note"> <p class=admonition-title>Content of /etc/fstab</p> <p>In the <code>/etc/fstab</code> content as added above:</p> <ul> <li> <p><code>/usr/bin/s3fs</code> is the location of your <code>s3fs</code> binary. If you installed it using <code>apt</code> on Debian or Ubuntu, you do not have to change anything here. If you are using a self-compiled version of <code>s3fs</code> created on RedHat/Rocky/AlmaLinux as explained above, that location is <code>/usr/local/bin/s3fs</code>.</p> </li> <li> <p><code>/home/ubuntu/.passwd-s3fs</code> is the location of the file which contains the key pair used for mounting the "bucket1" repository as we named it in previous step.</p> </li> </ul> </div> <h2 id=4-using-rclone>4. Using <a href=https://rclone.org/swift/ >Rclone</a></h2> <h3 id=installing-rclone>Installing Rclone</h3> <p>Install rclone as <a href=../object-storage/#using-rclone>described here</a> or for our Ubuntu based VM we can just SSH into the VM and then run the following command using default <code>ubuntu</code> user:</p> <div class="language-text highlight"><pre><span></span><code>curl -sSL https://rclone.org/install.sh | sudo bash
</code></pre></div> <h3 id=configuring-rclone>Configuring Rclone</h3> <p>If you run <code>rclone config file</code> you will see where the default location is for you.</p> <div class="language-text highlight"><pre><span></span><code>rclone config file
Configuration file doesn't exist, but rclone will use this path:
/home/ubuntu/.config/rclone/rclone.conf
</code></pre></div> <p>So create the config file as mentioned above path: <code>/home/ubuntu/.config/rclone/rclone.conf</code> and add the following entry with the name <strong>[nerc]</strong>:</p> <div class="language-text highlight"><pre><span></span><code>[nerc]
type = s3
env_auth = false
provider = Other
endpoint = https://stack.nerc.mghpcc.org:13808
acl = public-read
access_key_id = &lt;YOUR_EC2_ACCESS_KEY_FROM_ec2rc_FILE&gt;
secret_access_key = &lt;YOUR_EC2_SECRET_KEY_FROM_ec2rc_FILE&gt;
location_constraint =
server_side_encryption =
</code></pre></div> <p>More about the config for <strong>AWS S3 compatible API</strong> can be <a href=https://rclone.org/s3/ >seen here</a>.</p> <div class="admonition note"> <p class=admonition-title>Important Information</p> <p>Mind that if set <code>env_auth = true</code> then it will take variables from environment, so you shouldn't insert it in this case.</p> </div> <h3 id=listing-the-containers-and-contents-of-a-container>Listing the Containers and Contents of a Container</h3> <p>Once your Object Storage has been configured in Rclone, you can then use the Rclone interface to List all the Containers with the "lsd" command</p> <div class="language-text highlight"><pre><span></span><code>rclone lsd "nerc:"
</code></pre></div> <p><strong>Or,</strong></p> <div class="language-text highlight"><pre><span></span><code>rclone lsd "nerc:" --config=rclone.conf
</code></pre></div> <p>For e.g.,</p> <div class="language-text highlight"><pre><span></span><code>rclone lsd "nerc:" --config=rclone.conf
      -1 2024-04-23 20:21:43        -1 bucket1
</code></pre></div> <p>To list the files and folders available within a container i.e. "bucket1" in this case, within a container we can use the "ls" command:</p> <div class="language-text highlight"><pre><span></span><code>rclone ls "nerc:bucket1/"
  653 README.md
    0 image.png
   12 test-file
</code></pre></div> <h3 id=create-a-mount-point-directory>Create a mount point directory</h3> <div class="language-text highlight"><pre><span></span><code>mkdir -p bucket1
</code></pre></div> <h3 id=mount-the-container-with-rclone>Mount the container with Rclone</h3> <p>Start the mount like this, where <code>home/ubuntu/bucket1</code> is an empty existing directory:</p> <div class="language-text highlight"><pre><span></span><code>rclone -vv --vfs-cache-mode full mount nerc:bucket1 /home/ubuntu/bucket1 --allow-other --allow-non-empty
</code></pre></div> <p>On Linux, you can run mount in either <strong>foreground</strong> or <strong>background</strong> (aka <code>daemon</code>) mode. Mount runs in <code>foreground</code> mode by default. Use the <code>--daemon</code> flag to force background mode i.e.</p> <div class="language-text highlight"><pre><span></span><code>rclone mount remote:path/to/files /path/to/local/mount --daemon
</code></pre></div> <p>When running in background mode the user will have to stop the mount manually:</p> <div class="language-text highlight"><pre><span></span><code>fusermount -u /path/to/local/mount
</code></pre></div> <p><strong>Or,</strong></p> <div class="language-text highlight"><pre><span></span><code>sudo umount -l /path/to/local/mount
</code></pre></div> <p>Now we have the mount running and we have background mode also enabled. Lets say there is a scenario where we want the mount to be persistent after a server/machine reboot. There are few ways to do it:</p> <h4 id=create-systemd-unit-file-ie-rclone-mountservice>Create systemd unit file i.e. <code>rclone-mount.service</code></h4> <p>Create a <strong>systemd service</strong> unit file that is going to execute the above script and dynamically mount or unmount the container:</p> <div class="language-text highlight"><pre><span></span><code>sudo nano /etc/systemd/system/rclone-mount.service
</code></pre></div> <p>Edit the file to look like the below:</p> <div class="language-text highlight"><pre><span></span><code>[Unit]
Description=rclone mount
Documentation=http://rclone.org/docs/
AssertPathIsDirectory=/home/ubuntu/bucket1
After=network-online.target

[Service]
Type=simple
User=root
Group=root
ExecStart=/usr/bin/rclone mount \
      --config=home/ubuntu/.config/rclone/rclone.conf \
      --vfs-cache-mode full \
      nerc:bucket1 /home/ubuntu/bucket1 \
              --allow-other \
              --allow-non-empty

ExecStop=/bin/fusermount -u /home/ubuntu/bucket1
Restart=always
RestartSec=10

[Install]
WantedBy=default.target
</code></pre></div> <p>The service is launched as soon as the network is up and running, it mounts the bucket and remains active. Stopping the service causes the container to unmount from the mount point.</p> <h4 id=launch-the-service-using-a-service-manager>Launch the service using a service manager</h4> <p>Now reload systemd deamon:</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl daemon-reload
</code></pre></div> <p>Start your service</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl start rclone-mount.service
</code></pre></div> <p>To check the status of your service</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl status rclone-mount.service
</code></pre></div> <p>To enable your service on every reboot</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl enable --now rclone-mount.service
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Information</p> <p>The service name is based on the file name i.e. <code>/etc/systemd/system/rclone-mount.service</code> so you can just use <code>rclone-mount</code> instead of <code>rclone-mount.service</code> on all above <code>systemctl</code> commands.</p> <p>To debug you can use:</p> <p><code>sudo systemctl status rclone-mount.service -l --no-pager</code> or, <code>journalctl -u rclone-mount --no-pager | tail -50</code></p> </div> <p>Verify, if the container is mounted successfully:</p> <div class="language-text highlight"><pre><span></span><code>df -hT | grep rclone
</code></pre></div> <p>The output should look similar to:</p> <div class="language-text highlight"><pre><span></span><code>nerc:bucket1   fuse.rclone  1.0P     0  1.0P   0% /home/ubuntu/bucket1
</code></pre></div> <h2 id=5-using-juicefs>5. Using <a href=https://juicefs.com/docs/ >JuiceFS</a></h2> <h3 id=preparation>Preparation</h3> <p>A JuiceFS file system consists of two parts:</p> <ul> <li> <p><strong>Object Storage</strong>: Used for data storage.</p> </li> <li> <p><strong>Metadata Engine</strong>: A database used for storing metadata. In this case, we will use a durable <a href=https://redis.io/ ><strong>Redis</strong></a> in-memory database service that provides extremely fast performance.</p> </li> </ul> <h4 id=installation-of-the-juicefs-client>Installation of the JuiceFS client</h4> <p>Access your virtual machine using SSH. Update the packages on your system and install the JuiceFS client:</p> <div class="language-text highlight"><pre><span></span><code>sudo apt update &amp;&amp; sudo apt upgrade
# default installation path is /usr/local/bin
curl -sSL https://d.juicefs.com/install | sh -
</code></pre></div> <p>Verify the JuiceFS client is running in background:</p> <div class="language-text highlight"><pre><span></span><code>ps aux | grep juicefs
</code></pre></div> <p>The output should look similar to:</p> <div class="language-text highlight"><pre><span></span><code>ubuntu     16275  0.0  0.0   7008  2212 pts/0    S+   18:44   0:00 grep --color=auto juicefs
</code></pre></div> <h4 id=installing-and-configuring-redis-database>Installing and Configuring Redis database</h4> <p>Install Redis by running:</p> <div class="language-text highlight"><pre><span></span><code>sudo apt install redis-server
</code></pre></div> <p>This will download and install Redis and its dependencies. Following this, there is one important configuration change to make in the Redis configuration file, which was generated automatically during the installation.</p> <p>You can check the line number where to find <code>supervised</code> by running:</p> <div class="language-text highlight"><pre><span></span><code>sudo cat /etc/redis/redis.conf -n | grep supervised

228  #   supervised no      - no supervision interaction
229  #   supervised upstart - signal upstart by putting Redis into SIGSTOP mode
231  #   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET
232  #   supervised auto    - detect upstart or systemd method based on
236  supervised no
</code></pre></div> <p>Open this file with your preferred text editor:</p> <div class="language-text highlight"><pre><span></span><code>sudo nano /etc/redis/redis.conf -l
</code></pre></div> <p>Inside the config file, find the <code>supervised</code> directive. This directive allows you to declare an init system to manage Redis as a service, providing you with more control over its operation. The <code>supervised</code> directive is set to <code>no</code> by default. Since you are running <code>Ubuntu</code>, which uses the <a href=https://en.wikipedia.org/wiki/Systemd>systemd</a> init system, change this to <code>systemd</code> as shown here:</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=../images/redis-server-config.png data-desc-position=bottom><img alt="Redis Server Config" src=../images/redis-server-config.png></a></p> <ul> <li>Binding to localhost:</li> </ul> <p>By default, Redis is only accessible from <code>localhost</code>. We need to verify that by locating this line by running:</p> <div class="language-text highlight"><pre><span></span><code>sudo cat /etc/redis/redis.conf -n | grep bind

...
68  bind 127.0.0.1 ::1
...
</code></pre></div> <p>and make sure it is uncommented (remove the <code>#</code> if it exists) by editing this file with your preferred text editor.</p> <p>So save and close it when you are finished. If you used <code>nano</code> to edit the file, do so by pressing <code>CTRL + X</code>, <code>Y</code>, then <code>ENTER</code>.</p> <p>Then, restart the Redis service to reflect the changes you made to the configuration file:</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl restart redis.service
</code></pre></div> <p>With that, you've installed and configured Redis and it's running on your machine. Before you begin using it, you should first check whether Redis is functioning correctly.</p> <p>Start by checking that the Redis service is running:</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl status redis
</code></pre></div> <p>If it is running without any errors, this command will show "active (running)" Status.</p> <p>To test that Redis is functioning correctly, connect to the server using <code>redis-cli</code>, Redis's command-line client:</p> <div class="language-text highlight"><pre><span></span><code>redis-cli
</code></pre></div> <p>In the prompt that follows, test connectivity with the <code>ping</code> command:</p> <div class="language-text highlight"><pre><span></span><code>ping
</code></pre></div> <p>Output:</p> <div class="language-text highlight"><pre><span></span><code>PONG
</code></pre></div> <p>Also, check that binding to <code>localhost</code> is working fine by running the following <code>netstat</code> command:</p> <div class="language-text highlight"><pre><span></span><code>sudo netstat -lnp | grep redis

tcp        0      0 127.0.0.1:6379          0.0.0.0:*               LISTEN      16967/redis-server
tcp6       0      0 ::1:6379                :::*                    LISTEN      16967/redis-server
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Important Note</p> <p>The <code>netstat</code> command may not be available on your system by default. If this is the case, you can install it (along with a number of other handy networking tools) with the following command: <code>sudo apt install net-tools</code>.</p> </div> <h5 id=configuring-a-redis-password>Configuring a Redis Password</h5> <p>Configuring a Redis password enables one of its two built-in security features - the <code>auth</code> command, which requires clients to authenticate to access the database. The password is configured directly in Redis's configuration file, <code>/etc/redis/redis.conf</code>.</p> <p>First, we need to locate the line where the <code>requirepass</code> directive is mentioned:</p> <div class="language-text highlight"><pre><span></span><code>sudo cat /etc/redis/redis.conf -n | grep requirepass

...
790  # requirepass foobared
...
</code></pre></div> <p>Then open the Redis's config file i.e. <code>/etc/redis/redis.conf</code> again with your preferred editor:</p> <div class="language-text highlight"><pre><span></span><code>sudo nano /etc/redis/redis.conf -l
</code></pre></div> <p>Uncomment it by removing the <code>#</code>, and change <code>foobared</code> to a secure password.</p> <div class="admonition tip"> <p class=admonition-title>How to generate random password?</p> <p>You can use <code>openssl</code> to generate random password by running the following command locally:</p> <p><code>openssl rand 12 | openssl base64 -A</code></p> <p><code>&lt;your_redis_password&gt;</code></p> </div> <p>After saving and closing it when you are finished. You need to restart the Redis service to reflect the changes you made to the configuration file by running:</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl restart redis.service
</code></pre></div> <p>To test that the password works, open up the Redis client:</p> <div class="language-text highlight"><pre><span></span><code>redis-cli
</code></pre></div> <p>The following shows a sequence of commands used to test whether the Redis password works. The first command tries to set a key to a value before authentication:</p> <div class="language-text highlight"><pre><span></span><code>127.0.0.1:6379&gt; set key1 10
</code></pre></div> <p>That won't work because you didn't authenticate, so Redis returns an error:</p> <p>Output:</p> <div class="language-text highlight"><pre><span></span><code>(error) NOAUTH Authentication required.
</code></pre></div> <p>The next command authenticates with the password specified in the Redis configuration file:</p> <div class="language-text highlight"><pre><span></span><code>127.0.0.1:6379&gt; auth &lt;your_redis_password&gt;
</code></pre></div> <p>Redis acknowledges:</p> <p>Output:</p> <div class="language-text highlight"><pre><span></span><code>OK
</code></pre></div> <p>After that, running the previous command again will succeed:</p> <div class="language-text highlight"><pre><span></span><code>127.0.0.1:6379&gt; set key1 10
</code></pre></div> <p>Output:</p> <div class="language-text highlight"><pre><span></span><code>OK
</code></pre></div> <p><code>get key1</code> queries Redis for the value of the new key.</p> <div class="language-text highlight"><pre><span></span><code>127.0.0.1:6379&gt; get key1
</code></pre></div> <p>Output:</p> <div class="language-text highlight"><pre><span></span><code>"10"
</code></pre></div> <p>After confirming that you're able to run commands in the Redis client after authenticating, you can exit redis-cli:</p> <div class="language-text highlight"><pre><span></span><code>127.0.0.1:6379&gt; quit
</code></pre></div> <h4 id=setting-authorizing-s3-access-using-juicefs-config>Setting authorizing S3 access using <code>juicefs config</code></h4> <p>You can store the S3 credentials using <code>juicefs config</code> that allows us to add the <code>Access Key</code> and <code>Secret Key</code> for the file system by running:</p> <div class="language-text highlight"><pre><span></span><code>juicefs config \
--access-key=&lt;EC2_ACCESS_KEY&gt; \
--secret-key=&lt;EC2_SECRET_KEY&gt; \
redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1
</code></pre></div> <h4 id=formatting-file-system>Formatting file system</h4> <div class="language-text highlight"><pre><span></span><code>sudo juicefs format --storage s3 --bucket https://stack.nerc.mghpcc.org:13808/&lt;your_container&gt; redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1 myjfs
</code></pre></div> <h4 id=mounting-file-system-manually>Mounting file system manually</h4> <h5 id=create-a-local-directory-as-a-mount-point-folder>Create a local directory as a mount point folder</h5> <div class="language-text highlight"><pre><span></span><code>mkdir -p ~/bucket1
</code></pre></div> <h5 id=mount-the-container-locally-using-juicefs>Mount the Container locally using <code>juicefs</code></h5> <p>The formatted file system "myjfs" will be mounted in the directory <code>~/bucket1</code> by running the following command:</p> <div class="language-text highlight"><pre><span></span><code>juicefs mount redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1 ~/bucket1
</code></pre></div> <h4 id=mount-juicefs-at-boot-time>Mount JuiceFS at Boot Time</h4> <p>After JuiceFS has been successfully formatted, follow this guide to set up auto-mount on boot.</p> <p>We can specify the <code>--update-fstab</code> option on the <code>mount</code> command that will automatically help you set up mount at boot:</p> <div class="language-text highlight"><pre><span></span><code>sudo juicefs mount --update-fstab --max-uploads=50 --writeback --cache-size 204800 &lt;META-URL&gt; &lt;MOUNTPOINT&gt;
</code></pre></div> <p>Make sure <code>/etc/fstab</code> contains an entry for the mount point by running:</p> <div class="language-text highlight"><pre><span></span><code>grep &lt;MOUNTPOINT&gt; /etc/fstab
</code></pre></div> <p>The output should look similar to:</p> <div class="language-text highlight"><pre><span></span><code>&lt;META-URL&gt; &lt;MOUNTPOINT&gt; juicefs _netdev,max-uploads=50,writeback,cache-size=204800 0 0

ls -l /sbin/mount.juicefs
lrwxrwxrwx 1 root root 22 Apr 24 20:25 /sbin/mount.juicefs -&gt; /usr/local/bin/juicefs
</code></pre></div> <p>For example,</p> <div class="language-text highlight"><pre><span></span><code>sudo juicefs mount --update-fstab --max-uploads=50 --writeback --cache-size 204800 redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1 ~/bucket1
</code></pre></div> <p>Make sure <code>/etc/fstab</code> contains an entry for the mount point by running:</p> <div class="language-text highlight"><pre><span></span><code>grep juicefs /etc/fstab
</code></pre></div> <p>The output should look similar to:</p> <div class="language-text highlight"><pre><span></span><code>redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1  /home/ubuntu/bucket1  juicefs  _netdev,cache-size=204800,max-uploads=50,writeback  0 0
</code></pre></div> <p>Confirm that <code>/sbin/mount.juicefs</code> is correctly symlinked to the JuiceFS binary:</p> <div class="language-text highlight"><pre><span></span><code>ls -l /sbin/mount.juicefs
lrwxrwxrwx 1 root root 22 Apr 24 20:25 /sbin/mount.juicefs -&gt; /usr/local/bin/juicefs
</code></pre></div> <h4 id=automating-mounting-with-systemd-service-unit-file>Automating Mounting with systemd service unit file</h4> <p>If you're using JuiceFS and need to apply settings like database access password, S3 access key, and secret key, which are hidden from the command line using environment variables for security reason, it may not be easy to configure them in the <code>/etc/fstab</code> file. In such cases, you can utilize <code>systemd</code> to mount your JuiceFS instance.</p> <p>Here's how you can set up your systemd configuration file:</p> <p>Create a <strong>systemd service</strong> unit file that is going to execute the above script and dynamically mount or unmount the container:</p> <div class="language-text highlight"><pre><span></span><code>sudo nano /etc/systemd/system/juicefs-mount.service
</code></pre></div> <p>Edit the file to look like the below:</p> <div class="language-text highlight"><pre><span></span><code>[Unit]
Description=JuiceFS mount
Documentation=https://juicefs.com/docs/
AssertPathIsDirectory=/home/ubuntu/bucket1
After=network-online.target

[Service]
Type=simple
User=root
Group=root
ExecStart=/usr/local/bin/juicefs mount \
"redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1" \
/home/ubuntu/bucket1 \
--no-usage-report \
--writeback \
--cache-size 102400 \
--cache-dir /home/juicefs_cache \
--buffer-size 2048 \
--open-cache 0 \
--attr-cache 1 \
--entry-cache 1 \
--dir-entry-cache 1 \
--cache-partial-only false \
--free-space-ratio 0.1 \
--max-uploads 20 \
--max-deletes 10 \
--backup-meta 0 \
--log /var/log/juicefs.log \
--get-timeout 300 \
--put-timeout 900 \
--io-retries 90 \
--prefetch 1

ExecStop=/usr/local/bin/juicefs umount /home/ubuntu/bucket1
Restart=always
RestartSec=10

[Install]
WantedBy=default.target
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Important Information</p> <p>Feel free to modify the options and environments according to your needs. Please make sure you change <code>&lt;your_redis_password&gt;</code> to your own Redis password that was setup by following <a href=#configuring-a-redis-password>this step</a>.</p> </div> <p>The service is launched as soon as the network is up and running, it mounts the bucket and remains active. Stopping the service causes the container to unmount from the mount point.</p> <h5 id=launch-the-service-as-daemon>Launch the service as daemon</h5> <p>Now reload systemd deamon:</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl daemon-reload
</code></pre></div> <p>Start your service</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl start juicefs-mount.service
</code></pre></div> <p>To check the status of your service</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl status juicefs-mount.service
</code></pre></div> <p>To enable your service on every reboot</p> <div class="language-text highlight"><pre><span></span><code>sudo systemctl enable --now juicefs-mount.service
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Information</p> <p>The service name is based on the file name i.e. <code>/etc/systemd/system/juicefs-mount.service</code> so you can just use <code>juicefs-mount</code> instead of <code>juicefs-mount.service</code> on all above <code>systemctl</code> commands.</p> <p>To debug you can use:</p> <p><code>sudo systemctl status juicefs-mount.service -l --no-pager</code> or, <code>journalctl -u juicefs-mount --no-pager | tail -50</code></p> </div> <p>Verify, if the container is mounted successfully:</p> <div class="language-text highlight"><pre><span></span><code>df -hT | grep juicefs
</code></pre></div> <p>The output should look similar to:</p> <div class="language-text highlight"><pre><span></span><code>JuiceFS:myjfs  fuse.juicefs  1.0P  4.0K  1.0P   1% /home/ubuntu/bucket1
</code></pre></div> <h3 id=data-synchronization>Data Synchronization</h3> <p><code>juicefs sync</code> is a powerful data migration tool, which can copy data across all supported storages including object storage, JuiceFS itself, and local file systems, you can freely copy data between any of these systems.</p> <h4 id=command-syntax>Command Syntax</h4> <p>To synchronize data from <code>SRC</code> i.e. the source data address or path to <code>DST</code> i.e. the destination address or path;, capable for both directories and files.</p> <div class="language-text highlight"><pre><span></span><code>juicefs sync [command options] SRC DST
</code></pre></div> <div class="admonition note"> <p class=admonition-title>More Information</p> <p><code>[command options]</code> are synchronization options. See <a href=https://juicefs.com/docs/community/command_reference#sync>command reference</a> for more details.</p> </div> <p>Address format:</p> <div class="language-text highlight"><pre><span></span><code>[NAME://][ACCESS_KEY:SECRET_KEY[:TOKEN]@]BUCKET[.ENDPOINT][/PREFIX]

# MinIO only supports path style
minio://[ACCESS_KEY:SECRET_KEY[:TOKEN]@]ENDPOINT/BUCKET[/PREFIX]
</code></pre></div> <h4 id=synchronize-between-object-storage-and-juicefs>Synchronize between Object Storage and JuiceFS</h4> <p>The following command synchronizes <code>movies</code> container on <strong>Object Storage Container</strong> to your local <strong>JuiceFS File System</strong> i.e <code>~/jfs</code>:</p> <div class="language-text highlight"><pre><span></span><code># create local folder
mkdir -p ~/jfs
# mount JuiceFS
juicefs mount -d redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1 ~/jfs
# synchronize
juicefs sync --force-update s3://&lt;EC2_ACCESS_KEY&gt;:&lt;EC2_SECRET_KEY&gt;@movies.stack.nerc.mghpcc.org:13808/ ~/jfs/
</code></pre></div> <p>The following command synchronizes <code>images</code> directory from your local <strong>JuiceFS File System</strong> i.e <code>~/jfs</code> to <strong>Object Storage Container</strong> i.e. <code>movies</code> container:</p> <div class="language-text highlight"><pre><span></span><code># mount JuiceFS
juicefs mount -d redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1 ~/jfs
# create local folder and add some file to this folder
mkdir -p ~/jfs/images/
cp "test.image" ~/jfs/images/
# synchronization
juicefs sync --force-update ~/jfs/images/ s3://&lt;EC2_ACCESS_KEY&gt;:&lt;EC2_SECRET_KEY&gt;@movies.stack.nerc.mghpcc.org:13808/images/
</code></pre></div> <h3 id=how-to-destroy-a-file-system>How to destroy a file system</h3> <p>After JuiceFS has been successfully formatted, follow this guide to clean up.</p> <p>JuiceFS client provides the destroy command to completely destroy a file system, which will result in:</p> <ul> <li> <p>Deletion of all metadata entries of this file system</p> </li> <li> <p>Deletion of all data blocks of this file system</p> </li> </ul> <p>Use this command in the following format:</p> <div class="language-text highlight"><pre><span></span><code>juicefs destroy &lt;METADATA URL&gt; &lt;UUID&gt;
</code></pre></div> <p>Here,</p> <p><code>&lt;METADATA URL&gt;</code>: The URL address of the metadata engine</p> <p><code>&lt;UUID&gt;</code>: The UUID of the file system</p> <h4 id=find-the-uuid-of-existing-mount-file-system>Find the UUID of existing mount file system</h4> <p>You can run either <code>juicefs config redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1</code> or <code>juicefs status redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1</code> to get detailed information about mounted file system i.e. <strong>"myjfs"</strong> that is setup by following <a href=./#formatting-file-system>this step</a>. The output looks like shown here:</p> <div class="language-text highlight"><pre><span></span><code>{
...
"Name": "myjfs",
"UUID": "&lt;UUID&gt;",
...
}
</code></pre></div> <h4 id=destroy-a-file-system>Destroy a file system</h4> <p>Please note the <strong>"UUID"</strong> that you will need to run <code>juicefs destroy</code> command as shown below:</p> <div class="language-text highlight"><pre><span></span><code>juicefs destroy redis://default:&lt;your_redis_password&gt;@127.0.0.1:6379/1 &lt;UUID&gt; --force
</code></pre></div> <p>When destroying a file system, the client will issue a confirmation prompt. Please make sure to check the file system information carefully and enter <code>y</code> after confirming it is correct.</p> <div class="admonition danger"> <p class=admonition-title>Danger</p> <p>The destroy operation will cause all the data in the database and the object storage associated with the file system to be deleted. Please make sure to back up the important data before operating!</p> </div> <hr> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 25, 2026 15:02:40 UTC">February 25, 2026</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class=md-footer> <aside class=footer-left> <a href=http://www.bu.edu/tech/services/research/ title="Boston University" target=_blank> <img alt="Boston University Logo" src=https://nerc-project.github.io/nerc-docs/assets/images/boston-university-logo.png> </a> </aside> <aside class=footer-center> <a href=http://rc.fas.harvard.edu title="Harvard University" target=_blank> <img alt="Harvard University Logo" src=https://nerc-project.github.io/nerc-docs/assets/images/harvard-university_logo.png> </a> </aside> <aside class=footer-center> <a href=https://www.mghpcc.org/ title=MGHPCC target=_blank> <img alt="MGHPCC Logo" src=https://nerc-project.github.io/nerc-docs/assets/images/MGHPCC_logo.png> </a> </aside> <aside class=footer-right> <a href=https://massopen.cloud/ title="MOC Alliance" target=_blank> <img alt="MOC Alliance" src=https://massopen.cloud/wp-content/uploads/2022/07/MOCwordmark_RGB_small.png style="width: 80%"> </a> </aside> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../../..", "features": ["content.action.edit", "content.code.copy", "content.code.annotate", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.sections", "navigation.indexes", "navigation.top", "navigation.path", "search.highlight", "search.share", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>